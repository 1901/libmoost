<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libmoost: moost::io::file_watcher Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">libmoost
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classmoost_1_1io_1_1file__watcher.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">moost::io::file_watcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="moost::io::file_watcher" -->
<p>Asynchronously watches a path for changes, then notifies a callback function when a change occurs.  
 <a href="classmoost_1_1io_1_1file__watcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>&gt;</code></p>

<p><a href="classmoost_1_1io_1_1file__watcher-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#acf38a007bec66024dce04762d5aaeef5">file_action</a> { <a class="el" href="classmoost_1_1io_1_1file__watcher.html#acf38a007bec66024dce04762d5aaeef5aa0c59751ca664394944a9e063a226a9c">CREATED</a> =  0, 
<a class="el" href="classmoost_1_1io_1_1file__watcher.html#acf38a007bec66024dce04762d5aaeef5ae8ba96c339cdc73c711ef6241452be11">CHANGED</a> =  1, 
<a class="el" href="classmoost_1_1io_1_1file__watcher.html#acf38a007bec66024dce04762d5aaeef5a0b3e43e372cb89e18226d6f58c65c5bf">DELETED</a> =  2
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The actions that <a class="el" href="classmoost_1_1io_1_1file__watcher.html" title="Asynchronously watches a path for changes, then notifies a callback function when a change occurs...">file_watcher</a> can monitor.  <a href="classmoost_1_1io_1_1file__watcher.html#acf38a007bec66024dce04762d5aaeef5">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef boost::function&lt; void(<a class="el" href="classmoost_1_1io_1_1file__watcher.html#acf38a007bec66024dce04762d5aaeef5">file_action</a> <br class="typebreak"/>
action, const std::string <br class="typebreak"/>
&amp;path)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a1cd74c953ebee85b108b5e71ce8c7247">callback_t</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a55cc693ed4582f287a932db1187caa0e">file_watcher</a> (int sleep_ms=500)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a9bbeb8fa46382e205205fddfa3c9e6f7">~file_watcher</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a9bbeb8fa46382e205205fddfa3c9e6f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a8cdfd6eaa3c130c6be55e983636ed075">insert</a> (const std::string &amp;path, const <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a1cd74c953ebee85b108b5e71ce8c7247">callback_t</a> &amp;callback, bool call_now=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds <em>path</em> to the list of monitored paths.  <a href="#a8cdfd6eaa3c130c6be55e983636ed075"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a53843922928f8b5115ab6b8309c2d140">erase</a> (const std::string &amp;path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes <em>path</em> from the list of monitored paths.  <a href="#a53843922928f8b5115ab6b8309c2d140"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a2e124caa7807f3fc08f4d573a45d31eb">start</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the asynchronous monitor thread.  <a href="#a2e124caa7807f3fc08f4d573a45d31eb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a840057d07dff3620c3b920dd14299dbe">stop</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the asynchronous monitor thread.  <a href="#a840057d07dff3620c3b920dd14299dbe"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a5c16ed78e5797e59dff98951e097e2fe">last_write_time</a> (const boost::filesystem::path &amp;p)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">we cannot assume that if a file exists, it will exist in the following moment that we check its file size  <a href="#a5c16ed78e5797e59dff98951e097e2fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a3f63d9f551f142fdfcfeb78f1400c6cf">run</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry point for the asynchronous monitor thread.  <a href="#a3f63d9f551f142fdfcfeb78f1400c6cf"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a1cd74c953ebee85b108b5e71ce8c7247">callback_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#aafcde3df4d1011ab21fd187b8c49f1b8">m_file_callback</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The map that associates watched files to the callbacks that should be launched.  <a href="#aafcde3df4d1011ab21fd187b8c49f1b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak"/>
std::pair&lt; time_t, time_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#ad506d5d007865c2728030938ca9e0538">m_file_modified</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The map that associates watched files with their last known modification times.  <a href="#ad506d5d007865c2728030938ca9e0538"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#ac813e8edcc7cc9bfded4bc7b0029cb43">m_file_mutex</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to make modifications to <a class="el" href="classmoost_1_1io_1_1file__watcher.html#aafcde3df4d1011ab21fd187b8c49f1b8" title="The map that associates watched files to the callbacks that should be launched.">file_watcher::m_file_callback</a> and <a class="el" href="classmoost_1_1io_1_1file__watcher.html#ad506d5d007865c2728030938ca9e0538" title="The map that associates watched files with their last known modification times.">file_watcher::m_file_modified</a> thread-safe.  <a href="#ac813e8edcc7cc9bfded4bc7b0029cb43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; boost::thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a9d9e0eb70acddd835d31d18fb05e6263">m_pthread</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared pointer to the thread that is constantly checking the files for modifications.  <a href="#a9d9e0eb70acddd835d31d18fb05e6263"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a80716c2d0ac5ee1d8e07fb8a01dfcaf9">m_run</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the watcher thread is running.  <a href="#a80716c2d0ac5ee1d8e07fb8a01dfcaf9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a5ec2de15f2b91ab0d69e7a43f17cdda4">m_run_mutex</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex that must be locked when we are changing <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a80716c2d0ac5ee1d8e07fb8a01dfcaf9" title="Whether the watcher thread is running.">file_watcher::m_run</a>.  <a href="#a5ec2de15f2b91ab0d69e7a43f17cdda4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::condition&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a1dac85f665b0ad7aff5ab61489131163">m_run_cond</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition to notify threads blocking on the <a class="el" href="classmoost_1_1io_1_1file__watcher.html" title="Asynchronously watches a path for changes, then notifies a callback function when a change occurs...">file_watcher</a> watcher thread.  <a href="#a1dac85f665b0ad7aff5ab61489131163"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a9755e96be5c84617084e891c61f936ff">m_sleep_ms</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Asynchronously watches a path for changes, then notifies a callback function when a change occurs. </p>
<p><a class="el" href="classmoost_1_1io_1_1file__watcher.html" title="Asynchronously watches a path for changes, then notifies a callback function when a change occurs...">file_watcher</a> will notify you if a path is created, changed, or deleted.</p>
<p>After a <a class="el" href="classmoost_1_1io_1_1file__watcher.html" title="Asynchronously watches a path for changes, then notifies a callback function when a change occurs...">file_watcher</a> is instantiated, you must call <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a2e124caa7807f3fc08f4d573a45d31eb" title="Starts the asynchronous monitor thread.">file_watcher::start()</a> to start up the asynchronous thread. </p>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00064">64</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a1cd74c953ebee85b108b5e71ce8c7247"></a><!-- doxytag: member="moost::io::file_watcher::callback_t" ref="a1cd74c953ebee85b108b5e71ce8c7247" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::function&lt;void(<a class="el" href="classmoost_1_1io_1_1file__watcher.html#acf38a007bec66024dce04762d5aaeef5">file_action</a> action, const std::string &amp; path)&gt; <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a1cd74c953ebee85b108b5e71ce8c7247">moost::io::file_watcher::callback_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00076">76</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="acf38a007bec66024dce04762d5aaeef5"></a><!-- doxytag: member="moost::io::file_watcher::file_action" ref="acf38a007bec66024dce04762d5aaeef5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmoost_1_1io_1_1file__watcher.html#acf38a007bec66024dce04762d5aaeef5">moost::io::file_watcher::file_action</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The actions that <a class="el" href="classmoost_1_1io_1_1file__watcher.html" title="Asynchronously watches a path for changes, then notifies a callback function when a change occurs...">file_watcher</a> can monitor. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="acf38a007bec66024dce04762d5aaeef5aa0c59751ca664394944a9e063a226a9c"></a><!-- doxytag: member="CREATED" ref="acf38a007bec66024dce04762d5aaeef5aa0c59751ca664394944a9e063a226a9c" args="" -->CREATED</em>&nbsp;</td><td>
<p>File creation. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="acf38a007bec66024dce04762d5aaeef5ae8ba96c339cdc73c711ef6241452be11"></a><!-- doxytag: member="CHANGED" ref="acf38a007bec66024dce04762d5aaeef5ae8ba96c339cdc73c711ef6241452be11" args="" -->CHANGED</em>&nbsp;</td><td>
<p>File modification. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="acf38a007bec66024dce04762d5aaeef5a0b3e43e372cb89e18226d6f58c65c5bf"></a><!-- doxytag: member="DELETED" ref="acf38a007bec66024dce04762d5aaeef5a0b3e43e372cb89e18226d6f58c65c5bf" args="" -->DELETED</em>&nbsp;</td><td>
<p>File deletion. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00069">69</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a55cc693ed4582f287a932db1187caa0e"></a><!-- doxytag: member="moost::io::file_watcher::file_watcher" ref="a55cc693ed4582f287a932db1187caa0e" args="(int sleep_ms=500)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a55cc693ed4582f287a932db1187caa0e">moost::io::file_watcher::file_watcher</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sleep_ms</em> = <code>500</code></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs an empty <a class="el" href="classmoost_1_1io_1_1file__watcher.html" title="Asynchronously watches a path for changes, then notifies a callback function when a change occurs...">file_watcher</a> that is not running and not watching anything </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sleep_ms,:</td><td>the number of milliseconds to sleep in between checking files </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00142">142</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9bbeb8fa46382e205205fddfa3c9e6f7"></a><!-- doxytag: member="moost::io::file_watcher::~file_watcher" ref="a9bbeb8fa46382e205205fddfa3c9e6f7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a9bbeb8fa46382e205205fddfa3c9e6f7">moost::io::file_watcher::~file_watcher</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<p>This method takes care of properly setting <code><a class="el" href="classmoost_1_1io_1_1file__watcher.html#a80716c2d0ac5ee1d8e07fb8a01dfcaf9" title="Whether the watcher thread is running.">file_watcher::m_run</a></code> to <code>false</code> using the <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a5ec2de15f2b91ab0d69e7a43f17cdda4" title="Mutex that must be locked when we are changing file_watcher::m_run.">file_watcher::m_run_mutex</a> mutex, and it also waits until the watcher thread exits. </p>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00153">153</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1file__watcher_a9bbeb8fa46382e205205fddfa3c9e6f7_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1file__watcher_a9bbeb8fa46382e205205fddfa3c9e6f7_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1file__watcher_a9bbeb8fa46382e205205fddfa3c9e6f7_cgraph" id="classmoost_1_1io_1_1file__watcher_a9bbeb8fa46382e205205fddfa3c9e6f7_cgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1file__watcher.html#a840057d07dff3620c3b920dd14299dbe" title="Stops the asynchronous monitor thread." alt="" coords="313,5,513,33"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a53843922928f8b5115ab6b8309c2d140"></a><!-- doxytag: member="moost::io::file_watcher::erase" ref="a53843922928f8b5115ab6b8309c2d140" args="(const std::string &amp;path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a53843922928f8b5115ab6b8309c2d140">moost::io::file_watcher::erase</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes <em>path</em> from the list of monitored paths. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the path to stop monitoring </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00191">191</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1file__watcher_a53843922928f8b5115ab6b8309c2d140_icgraph.png" border="0" usemap="#classmoost_1_1io_1_1file__watcher_a53843922928f8b5115ab6b8309c2d140_icgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1file__watcher_a53843922928f8b5115ab6b8309c2d140_icgraph" id="classmoost_1_1io_1_1file__watcher_a53843922928f8b5115ab6b8309c2d140_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1ionotify.html#aa261abc206237bd3cce1f7ddb440fa3b" title="moost::io::ionotify::erase" alt="" coords="264,5,443,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8cdfd6eaa3c130c6be55e983636ed075"></a><!-- doxytag: member="moost::io::file_watcher::insert" ref="a8cdfd6eaa3c130c6be55e983636ed075" args="(const std::string &amp;path, const callback_t &amp;callback, bool call_now=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a8cdfd6eaa3c130c6be55e983636ed075">moost::io::file_watcher::insert</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a1cd74c953ebee85b108b5e71ce8c7247">callback_t</a> &amp;&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>call_now</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds <em>path</em> to the list of monitored paths. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the path to monitor </td></tr>
    <tr><td class="paramname">callback</td><td>the callback to notify if the path changes </td></tr>
    <tr><td class="paramname">call_now</td><td>will invoke the callback now </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00163">163</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1file__watcher_a8cdfd6eaa3c130c6be55e983636ed075_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1file__watcher_a8cdfd6eaa3c130c6be55e983636ed075_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1file__watcher_a8cdfd6eaa3c130c6be55e983636ed075_cgraph" id="classmoost_1_1io_1_1file__watcher_a8cdfd6eaa3c130c6be55e983636ed075_cgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1file__watcher.html#a5c16ed78e5797e59dff98951e097e2fe" title="we cannot assume that if a file exists, it will exist in the following moment that we check its file ..." alt="" coords="264,5,533,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1file__watcher_a8cdfd6eaa3c130c6be55e983636ed075_icgraph.png" border="0" usemap="#classmoost_1_1io_1_1file__watcher_a8cdfd6eaa3c130c6be55e983636ed075_icgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1file__watcher_a8cdfd6eaa3c130c6be55e983636ed075_icgraph" id="classmoost_1_1io_1_1file__watcher_a8cdfd6eaa3c130c6be55e983636ed075_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1ionotify.html#afb493db0969744e3596e07230109cb3f" title="moost::io::ionotify::insert" alt="" coords="316,5,495,33"/><area shape="rect" id="node5" href="classmoost_1_1io_1_1file__backed__data__source.html#a75cff2976b940bcc0587c09c31c8bab3" title="moost::io::file_backed_data_source::load" alt="" coords="264,55,547,83"/><area shape="rect" id="node7" href="struct_fixture.html#a7bd87f852602d02a205b4a811530dfe4" title="Fixture::Fixture" alt="" coords="348,106,463,134"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5c16ed78e5797e59dff98951e097e2fe"></a><!-- doxytag: member="moost::io::file_watcher::last_write_time" ref="a5c16ed78e5797e59dff98951e097e2fe" args="(const boost::filesystem::path &amp;p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::time_t <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a5c16ed78e5797e59dff98951e097e2fe">moost::io::file_watcher::last_write_time</a> </td>
          <td>(</td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>we cannot assume that if a file exists, it will exist in the following moment that we check its file size </p>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00119">119</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1file__watcher_a5c16ed78e5797e59dff98951e097e2fe_icgraph.png" border="0" usemap="#classmoost_1_1io_1_1file__watcher_a5c16ed78e5797e59dff98951e097e2fe_icgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1file__watcher_a5c16ed78e5797e59dff98951e097e2fe_icgraph" id="classmoost_1_1io_1_1file__watcher_a5c16ed78e5797e59dff98951e097e2fe_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1file__watcher.html#a8cdfd6eaa3c130c6be55e983636ed075" title="Adds path to the list of monitored paths." alt="" coords="567,55,775,83"/><area shape="rect" id="node11" href="classmoost_1_1io_1_1file__watcher.html#a3f63d9f551f142fdfcfeb78f1400c6cf" title="Entry point for the asynchronous monitor thread." alt="" coords="323,106,517,134"/><area shape="rect" id="node5" href="classmoost_1_1io_1_1ionotify.html#afb493db0969744e3596e07230109cb3f" title="moost::io::ionotify::insert" alt="" coords="876,5,1055,33"/><area shape="rect" id="node7" href="classmoost_1_1io_1_1file__backed__data__source.html#a75cff2976b940bcc0587c09c31c8bab3" title="moost::io::file_backed_data_source::load" alt="" coords="824,55,1107,83"/><area shape="rect" id="node9" href="struct_fixture.html#a7bd87f852602d02a205b4a811530dfe4" title="Fixture::Fixture" alt="" coords="908,106,1023,134"/><area shape="rect" id="node13" href="classmoost_1_1io_1_1file__watcher.html#a2e124caa7807f3fc08f4d573a45d31eb" title="Starts the asynchronous monitor thread." alt="" coords="569,106,772,134"/><area shape="rect" id="node15" href="classmoost_1_1io_1_1ionotify.html#afb59089a24477ff337ce5f665a04f623" title="moost::io::ionotify::start" alt="" coords="879,157,1052,185"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3f63d9f551f142fdfcfeb78f1400c6cf"></a><!-- doxytag: member="moost::io::file_watcher::run" ref="a3f63d9f551f142fdfcfeb78f1400c6cf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a3f63d9f551f142fdfcfeb78f1400c6cf">moost::io::file_watcher::run</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Entry point for the asynchronous monitor thread. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>This could cause problems with frequent writing. We should really use boost.interprocess file locking instead (when we get 1.36 everywhere) </dd></dl>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00233">233</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1file__watcher_a3f63d9f551f142fdfcfeb78f1400c6cf_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1file__watcher_a3f63d9f551f142fdfcfeb78f1400c6cf_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1file__watcher_a3f63d9f551f142fdfcfeb78f1400c6cf_cgraph" id="classmoost_1_1io_1_1file__watcher_a3f63d9f551f142fdfcfeb78f1400c6cf_cgraph">
<area shape="rect" id="node3" href="structmoost_1_1thread_1_1xtime__util.html#a6c3e968c06bc9ad8138e8b7ba877922f" title="Adds the specified number of milliseconds to a boost::xtime." alt="" coords="261,5,504,33"/><area shape="rect" id="node5" href="structmoost_1_1thread_1_1xtime__util.html#ac02f5f3c0598f7269ab3acb7f1358eef" title="Returns now in boost::xtime." alt="" coords="275,55,491,83"/><area shape="rect" id="node7" href="classmoost_1_1io_1_1file__watcher.html#a5c16ed78e5797e59dff98951e097e2fe" title="we cannot assume that if a file exists, it will exist in the following moment that we check its file ..." alt="" coords="248,106,517,134"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1file__watcher_a3f63d9f551f142fdfcfeb78f1400c6cf_icgraph.png" border="0" usemap="#classmoost_1_1io_1_1file__watcher_a3f63d9f551f142fdfcfeb78f1400c6cf_icgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1file__watcher_a3f63d9f551f142fdfcfeb78f1400c6cf_icgraph" id="classmoost_1_1io_1_1file__watcher_a3f63d9f551f142fdfcfeb78f1400c6cf_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1file__watcher.html#a2e124caa7807f3fc08f4d573a45d31eb" title="Starts the asynchronous monitor thread." alt="" coords="248,55,451,83"/><area shape="rect" id="node5" href="classmoost_1_1io_1_1ionotify.html#afb59089a24477ff337ce5f665a04f623" title="moost::io::ionotify::start" alt="" coords="553,5,727,33"/><area shape="rect" id="node7" href="classmoost_1_1io_1_1file__backed__data__source.html#a75cff2976b940bcc0587c09c31c8bab3" title="moost::io::file_backed_data_source::load" alt="" coords="499,55,781,83"/><area shape="rect" id="node9" href="struct_fixture.html#a7bd87f852602d02a205b4a811530dfe4" title="Fixture::Fixture" alt="" coords="583,106,697,134"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2e124caa7807f3fc08f4d573a45d31eb"></a><!-- doxytag: member="moost::io::file_watcher::start" ref="a2e124caa7807f3fc08f4d573a45d31eb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a2e124caa7807f3fc08f4d573a45d31eb">moost::io::file_watcher::start</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Starts the asynchronous monitor thread. </p>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>if the thread is already started </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00202">202</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1file__watcher_a2e124caa7807f3fc08f4d573a45d31eb_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1file__watcher_a2e124caa7807f3fc08f4d573a45d31eb_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1file__watcher_a2e124caa7807f3fc08f4d573a45d31eb_cgraph" id="classmoost_1_1io_1_1file__watcher_a2e124caa7807f3fc08f4d573a45d31eb_cgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1file__watcher.html#a3f63d9f551f142fdfcfeb78f1400c6cf" title="Entry point for the asynchronous monitor thread." alt="" coords="256,55,451,83"/><area shape="rect" id="node5" href="structmoost_1_1thread_1_1xtime__util.html#a6c3e968c06bc9ad8138e8b7ba877922f" title="Adds the specified number of milliseconds to a boost::xtime." alt="" coords="512,5,755,33"/><area shape="rect" id="node7" href="structmoost_1_1thread_1_1xtime__util.html#ac02f5f3c0598f7269ab3acb7f1358eef" title="Returns now in boost::xtime." alt="" coords="525,55,741,83"/><area shape="rect" id="node9" href="classmoost_1_1io_1_1file__watcher.html#a5c16ed78e5797e59dff98951e097e2fe" title="we cannot assume that if a file exists, it will exist in the following moment that we check its file ..." alt="" coords="499,106,768,134"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1file__watcher_a2e124caa7807f3fc08f4d573a45d31eb_icgraph.png" border="0" usemap="#classmoost_1_1io_1_1file__watcher_a2e124caa7807f3fc08f4d573a45d31eb_icgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1file__watcher_a2e124caa7807f3fc08f4d573a45d31eb_icgraph" id="classmoost_1_1io_1_1file__watcher_a2e124caa7807f3fc08f4d573a45d31eb_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1ionotify.html#afb59089a24477ff337ce5f665a04f623" title="moost::io::ionotify::start" alt="" coords="311,5,484,33"/><area shape="rect" id="node5" href="classmoost_1_1io_1_1file__backed__data__source.html#a75cff2976b940bcc0587c09c31c8bab3" title="moost::io::file_backed_data_source::load" alt="" coords="256,55,539,83"/><area shape="rect" id="node7" href="struct_fixture.html#a7bd87f852602d02a205b4a811530dfe4" title="Fixture::Fixture" alt="" coords="340,106,455,134"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a840057d07dff3620c3b920dd14299dbe"></a><!-- doxytag: member="moost::io::file_watcher::stop" ref="a840057d07dff3620c3b920dd14299dbe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a840057d07dff3620c3b920dd14299dbe">moost::io::file_watcher::stop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stops the asynchronous monitor thread. </p>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>if the thread is already stopped </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00215">215</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1file__watcher_a840057d07dff3620c3b920dd14299dbe_icgraph.png" border="0" usemap="#classmoost_1_1io_1_1file__watcher_a840057d07dff3620c3b920dd14299dbe_icgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1file__watcher_a840057d07dff3620c3b920dd14299dbe_icgraph" id="classmoost_1_1io_1_1file__watcher_a840057d07dff3620c3b920dd14299dbe_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1ionotify.html#a51cf513dad3904fd6c38c2aefb436bc4" title="moost::io::ionotify::stop" alt="" coords="300,5,471,33"/><area shape="rect" id="node5" href="classmoost_1_1io_1_1file__watcher.html#a9bbeb8fa46382e205205fddfa3c9e6f7" title="Destructor." alt="" coords="256,55,515,83"/><area shape="rect" id="node7" href="struct_fixture.html#af2dff56606d5787ed05b3153aea927c3" title="Fixture::~Fixture" alt="" coords="323,106,448,134"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aafcde3df4d1011ab21fd187b8c49f1b8"></a><!-- doxytag: member="moost::io::file_watcher::m_file_callback" ref="aafcde3df4d1011ab21fd187b8c49f1b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a1cd74c953ebee85b108b5e71ce8c7247">callback_t</a> &gt; <a class="el" href="classmoost_1_1io_1_1file__watcher.html#aafcde3df4d1011ab21fd187b8c49f1b8">moost::io::file_watcher::m_file_callback</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The map that associates watched files to the callbacks that should be launched. </p>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00081">81</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad506d5d007865c2728030938ca9e0538"></a><!-- doxytag: member="moost::io::file_watcher::m_file_modified" ref="ad506d5d007865c2728030938ca9e0538" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::pair&lt;time_t, time_t&gt; &gt; <a class="el" href="classmoost_1_1io_1_1file__watcher.html#ad506d5d007865c2728030938ca9e0538">moost::io::file_watcher::m_file_modified</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The map that associates watched files with their last known modification times. </p>
<p>We actually track the last <em>two</em> modification times. Ideally, we want to send a notification only when the file was modified <em>and</em> the modifying process already closed the file, therefore we fire a <code>CHANGED</code> event only if the previous previous modification time is <em>different</em> from the previous modification time <em>but</em> the previous modification time equals the modification time we read from the file. Otherwise we just "shift" the pair (drop the previous previous modification, move the previous to the first position that is empty and push the file's last modification obtained from the filesystem to the second element of the pair). </p>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00093">93</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac813e8edcc7cc9bfded4bc7b0029cb43"></a><!-- doxytag: member="moost::io::file_watcher::m_file_mutex" ref="ac813e8edcc7cc9bfded4bc7b0029cb43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex <a class="el" href="classmoost_1_1io_1_1file__watcher.html#ac813e8edcc7cc9bfded4bc7b0029cb43">moost::io::file_watcher::m_file_mutex</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mutex to make modifications to <a class="el" href="classmoost_1_1io_1_1file__watcher.html#aafcde3df4d1011ab21fd187b8c49f1b8" title="The map that associates watched files to the callbacks that should be launched.">file_watcher::m_file_callback</a> and <a class="el" href="classmoost_1_1io_1_1file__watcher.html#ad506d5d007865c2728030938ca9e0538" title="The map that associates watched files with their last known modification times.">file_watcher::m_file_modified</a> thread-safe. </p>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00097">97</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9d9e0eb70acddd835d31d18fb05e6263"></a><!-- doxytag: member="moost::io::file_watcher::m_pthread" ref="a9d9e0eb70acddd835d31d18fb05e6263" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; boost::thread&gt; <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a9d9e0eb70acddd835d31d18fb05e6263">moost::io::file_watcher::m_pthread</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shared pointer to the thread that is constantly checking the files for modifications. </p>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00100">100</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a80716c2d0ac5ee1d8e07fb8a01dfcaf9"></a><!-- doxytag: member="moost::io::file_watcher::m_run" ref="a80716c2d0ac5ee1d8e07fb8a01dfcaf9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a80716c2d0ac5ee1d8e07fb8a01dfcaf9">moost::io::file_watcher::m_run</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Whether the watcher thread is running. </p>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00106">106</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1dac85f665b0ad7aff5ab61489131163"></a><!-- doxytag: member="moost::io::file_watcher::m_run_cond" ref="a1dac85f665b0ad7aff5ab61489131163" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::condition <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a1dac85f665b0ad7aff5ab61489131163">moost::io::file_watcher::m_run_cond</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Condition to notify threads blocking on the <a class="el" href="classmoost_1_1io_1_1file__watcher.html" title="Asynchronously watches a path for changes, then notifies a callback function when a change occurs...">file_watcher</a> watcher thread. </p>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00114">114</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5ec2de15f2b91ab0d69e7a43f17cdda4"></a><!-- doxytag: member="moost::io::file_watcher::m_run_mutex" ref="a5ec2de15f2b91ab0d69e7a43f17cdda4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a5ec2de15f2b91ab0d69e7a43f17cdda4">moost::io::file_watcher::m_run_mutex</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mutex that must be locked when we are changing <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a80716c2d0ac5ee1d8e07fb8a01dfcaf9" title="Whether the watcher thread is running.">file_watcher::m_run</a>. </p>
<p>This is because <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a80716c2d0ac5ee1d8e07fb8a01dfcaf9" title="Whether the watcher thread is running.">file_watcher::m_run</a> can be modified from the watcher thread itself and also from the thread that originally constructed this <a class="el" href="classmoost_1_1io_1_1file__watcher.html" title="Asynchronously watches a path for changes, then notifies a callback function when a change occurs...">file_watcher</a>. </p>

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00112">112</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9755e96be5c84617084e891c61f936ff"></a><!-- doxytag: member="moost::io::file_watcher::m_sleep_ms" ref="a9755e96be5c84617084e891c61f936ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classmoost_1_1io_1_1file__watcher.html#a9755e96be5c84617084e891c61f936ff">moost::io::file_watcher::m_sleep_ms</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="file__watcher_8hpp_source.html#l00116">116</a> of file <a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/mhx/git/github/libmoost/include/moost/io/<a class="el" href="file__watcher_8hpp_source.html">file_watcher.hpp</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacemoost.html">moost</a>      </li>
      <li class="navelem"><a class="el" href="namespacemoost_1_1io.html">io</a>      </li>
      <li class="navelem"><a class="el" href="classmoost_1_1io_1_1file__watcher.html">file_watcher</a>      </li>

    <li class="footer">Generated on Wed Feb 20 2013 05:56:10 for libmoost by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
