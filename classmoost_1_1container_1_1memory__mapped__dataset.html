<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libmoost: moost::container::memory_mapped_dataset Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">libmoost
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classmoost_1_1container_1_1memory__mapped__dataset.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">moost::container::memory_mapped_dataset Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="moost::container::memory_mapped_dataset" --><!-- doxytag: inherits="boost::noncopyable" -->
<p><code>#include &lt;<a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for moost::container::memory_mapped_dataset:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1container_1_1memory__mapped__dataset__inherit__graph.png" border="0" usemap="#moost_1_1container_1_1memory__mapped__dataset_inherit__map" alt="Inheritance graph"/></div>
<map name="moost_1_1container_1_1memory__mapped__dataset_inherit__map" id="moost_1_1container_1_1memory__mapped__dataset_inherit__map">
<area shape="rect" id="node5" href="structtest__dataset.html" title="test_dataset" alt="" coords="109,161,211,189"/><area shape="rect" id="node2" href="classboost_1_1noncopyable.html" title="noncopyable" alt="" coords="109,6,211,34"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for moost::container::memory_mapped_dataset:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1container_1_1memory__mapped__dataset__coll__graph.png" border="0" usemap="#moost_1_1container_1_1memory__mapped__dataset_coll__map" alt="Collaboration graph"/></div>
<map name="moost_1_1container_1_1memory__mapped__dataset_coll__map" id="moost_1_1container_1_1memory__mapped__dataset_coll__map">
<area shape="rect" id="node2" href="classboost_1_1noncopyable.html" title="noncopyable" alt="" coords="109,6,211,34"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classmoost_1_1container_1_1memory__mapped__dataset-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmoost_1_1container_1_1memory__mapped__dataset_1_1mmd__header.html">mmd_header</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset_1_1section__info.html">section_info</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset_1_1writer.html">writer</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
<a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset_1_1section__info.html">section_info</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a6db7e945625e6aeb87153d009dbd4da5">section_map_type</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a3983a876b72e9c7069e31979c91f1fc8">memory_mapped_dataset</a> (const std::string &amp;map_file_name, const std::string &amp;dataset_name, boost::uint32_t format_version)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a71f1f1e1b0c13340653f9ab83a2e3305">description</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset_1_1section__info.html">section_info</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#abd23371f07f0de5b105da98f865e05e4">find</a> (const std::string &amp;section, const std::string &amp;type) const </td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">const T *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#ae4021efacf165b6f57b01352894de873">data</a> (size_t offset=0, size_t count=1) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a27431ac743e4986c2f511b22e90bda3b">filename</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a8f542e6d1805cec3c2a6fc58e3ddc55f">warm_cache</a> (const void *beg, const void *end)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#ae97d6c4ee0ccc3420e2a584963a8c508">m_file</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a95ddc4ed60d476c1d43f3637dc744adf">m_format</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::iostreams::mapped_file&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#ad52c4b62104ac5f131bb2a42a122ab6b">m_map</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a6db7e945625e6aeb87153d009dbd4da5">section_map_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a4c6e31c6d3b45c5468341de7bc20f575">m_section_map</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const boost::uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a9e55f481f89437327a3ed9df5bbcd98b">MMD_MAGIC</a> = 0x7473614C</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">helps us to identify the file and verify byte order  <a href="#a9e55f481f89437327a3ed9df5bbcd98b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const boost::uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a6ac87c56b5ab8074c7e5257763437b49">MMD_VERSION</a> = 1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">increment in case of incompatible format changes  <a href="#a6ac87c56b5ab8074c7e5257763437b49"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a67b7f433eafc6a0bdf6a5be6ea4ee28e">MAP_PAGE_SIZE</a> = 4096</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">page size used for "warming" the mapping cache  <a href="#a67b7f433eafc6a0bdf6a5be6ea4ee28e"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Representation of a memory-mapped dataset</p>
<p>Each instance of this class represents a memory-mapped dataset. Sections within the dataset can be accessed using accessor classes, e.g. <a class="el" href="classmoost_1_1container_1_1mmd__vector.html">mmd_vector</a>, <a class="el" href="classmoost_1_1container_1_1mmd__hash__multimap.html">mmd_hash_multimap</a> or mmd_archive.</p>
<p>The dataset class as well as the accessor classes contain writer classes than be used to easily implement methods for writing a dataset to disk. </p>

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00063">63</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a6db7e945625e6aeb87153d009dbd4da5"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::section_map_type" ref="a6db7e945625e6aeb87153d009dbd4da5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset_1_1section__info.html">section_info</a>&gt; <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a6db7e945625e6aeb87153d009dbd4da5">moost::container::memory_mapped_dataset::section_map_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00174">174</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3983a876b72e9c7069e31979c91f1fc8"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::memory_mapped_dataset" ref="a3983a876b72e9c7069e31979c91f1fc8" args="(const std::string &amp;map_file_name, const std::string &amp;dataset_name, boost::uint32_t format_version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a3983a876b72e9c7069e31979c91f1fc8">moost::container::memory_mapped_dataset::memory_mapped_dataset</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>map_file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>dataset_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::uint32_t&#160;</td>
          <td class="paramname"><em>format_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Memory-mapped dataset constructor</p>
<p>Used to map an existing on-disk dataset into memory. Performs a whole variety of checks to ensure the dataset is consistent and matches the specification given by dataset_name and format_version.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">map_file_name</td><td>name of the dataset file to map into memory </td></tr>
    <tr><td class="paramname">dataset_name</td><td>name of the dataset, used for validation </td></tr>
    <tr><td class="paramname">format_version</td><td>dataset format version, used for validation </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00385">385</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae4021efacf165b6f57b01352894de873"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::data" ref="ae4021efacf165b6f57b01352894de873" args="(size_t offset=0, size_t count=1) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const T* <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#ae4021efacf165b6f57b01352894de873">moost::container::memory_mapped_dataset::data</a> </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Access mapped data</p>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">T</td><td>type to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>offset relative to start of mapped file </td></tr>
    <tr><td class="paramname">count</td><td>number of items of type T to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the requested type at a certain offset relative to the start of the mapped file. </dd></dl>

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00489">489</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1container_1_1memory__mapped__dataset_ae4021efacf165b6f57b01352894de873_cgraph.png" border="0" usemap="#classmoost_1_1container_1_1memory__mapped__dataset_ae4021efacf165b6f57b01352894de873_cgraph" alt=""/></div>
<map name="classmoost_1_1container_1_1memory__mapped__dataset_ae4021efacf165b6f57b01352894de873_cgraph" id="classmoost_1_1container_1_1memory__mapped__dataset_ae4021efacf165b6f57b01352894de873_cgraph">
<area shape="rect" id="node3" href="platform_8h.html#a087a121af18eb594d75906c12c0b12d0" title="BOOST_STATIC_ASSERT_MSG" alt="" coords="401,5,609,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1container_1_1memory__mapped__dataset_ae4021efacf165b6f57b01352894de873_icgraph.png" border="0" usemap="#classmoost_1_1container_1_1memory__mapped__dataset_ae4021efacf165b6f57b01352894de873_icgraph" alt=""/></div>
<map name="classmoost_1_1container_1_1memory__mapped__dataset_ae4021efacf165b6f57b01352894de873_icgraph" id="classmoost_1_1container_1_1memory__mapped__dataset_ae4021efacf165b6f57b01352894de873_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1container_1_1mmd__generic__archive.html#ac89384acaef06263dcfccd7238571de5" title="moost::container::mmd_generic_archive::archive_data" alt="" coords="400,5,771,33"/><area shape="rect" id="node5" href="classmoost_1_1container_1_1mmd__generic__archive.html#a0ac5dc14963d5490cfd8d5931a65acf0" title="moost::container::mmd_generic_archive::set" alt="" coords="820,5,1127,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a71f1f1e1b0c13340653f9ab83a2e3305"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::description" ref="a71f1f1e1b0c13340653f9ab83a2e3305" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a71f1f1e1b0c13340653f9ab83a2e3305">moost::container::memory_mapped_dataset::description</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00440">440</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a27431ac743e4986c2f511b22e90bda3b"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::filename" ref="a27431ac743e4986c2f511b22e90bda3b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a27431ac743e4986c2f511b22e90bda3b">moost::container::memory_mapped_dataset::filename</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return name of mapped file </p>

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00504">504</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abd23371f07f0de5b105da98f865e05e4"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::find" ref="abd23371f07f0de5b105da98f865e05e4" args="(const std::string &amp;section, const std::string &amp;type) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset_1_1section__info.html">section_info</a>&amp; <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#abd23371f07f0de5b105da98f865e05e4">moost::container::memory_mapped_dataset::find</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>section</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find a section in the dataset's index</p>
<p>Will throw an exception if the section cannot be found or is corrupt.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">section</td><td>section name </td></tr>
    <tr><td class="paramname">type</td><td>section type</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>reference to a <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset_1_1section__info.html">section_info</a> object describing the section </dd></dl>

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00455">455</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1container_1_1memory__mapped__dataset_abd23371f07f0de5b105da98f865e05e4_icgraph.png" border="0" usemap="#classmoost_1_1container_1_1memory__mapped__dataset_abd23371f07f0de5b105da98f865e05e4_icgraph" alt=""/></div>
<map name="classmoost_1_1container_1_1memory__mapped__dataset_abd23371f07f0de5b105da98f865e05e4_icgraph" id="classmoost_1_1container_1_1memory__mapped__dataset_abd23371f07f0de5b105da98f865e05e4_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1container_1_1mmd__generic__archive.html#ac89384acaef06263dcfccd7238571de5" title="moost::container::mmd_generic_archive::archive_data" alt="" coords="395,5,765,33"/><area shape="rect" id="node5" href="classmoost_1_1container_1_1mmd__generic__archive.html#a0ac5dc14963d5490cfd8d5931a65acf0" title="moost::container::mmd_generic_archive::set" alt="" coords="815,5,1121,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8f542e6d1805cec3c2a6fc58e3ddc55f"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::warm_cache" ref="a8f542e6d1805cec3c2a6fc58e3ddc55f" args="(const void *beg, const void *end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a8f542e6d1805cec3c2a6fc58e3ddc55f">moost::container::memory_mapped_dataset::warm_cache</a> </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>beg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Warm the cache for a particular data structure</p>
<p>This is intended to be called by the individual data structure's cache warming method. Cache warming is useful _only_ if there's a chance for the particular data structure to fit into memory and it's most effective when the data structure in question is randomly accessed very frequently (i.e. several thousand times per second). </p>

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00518">518</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae97d6c4ee0ccc3420e2a584963a8c508"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::m_file" ref="ae97d6c4ee0ccc3420e2a584963a8c508" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#ae97d6c4ee0ccc3420e2a584963a8c508">moost::container::memory_mapped_dataset::m_file</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00541">541</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a95ddc4ed60d476c1d43f3637dc744adf"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::m_format" ref="a95ddc4ed60d476c1d43f3637dc744adf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a95ddc4ed60d476c1d43f3637dc744adf">moost::container::memory_mapped_dataset::m_format</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00542">542</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad52c4b62104ac5f131bb2a42a122ab6b"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::m_map" ref="ad52c4b62104ac5f131bb2a42a122ab6b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::iostreams::mapped_file <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#ad52c4b62104ac5f131bb2a42a122ab6b">moost::container::memory_mapped_dataset::m_map</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00543">543</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4c6e31c6d3b45c5468341de7bc20f575"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::m_section_map" ref="a4c6e31c6d3b45c5468341de7bc20f575" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a6db7e945625e6aeb87153d009dbd4da5">section_map_type</a> <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a4c6e31c6d3b45c5468341de7bc20f575">moost::container::memory_mapped_dataset::m_section_map</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00544">544</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a67b7f433eafc6a0bdf6a5be6ea4ee28e"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::MAP_PAGE_SIZE" ref="a67b7f433eafc6a0bdf6a5be6ea4ee28e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a67b7f433eafc6a0bdf6a5be6ea4ee28e">moost::container::memory_mapped_dataset::MAP_PAGE_SIZE</a> = 4096<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>page size used for "warming" the mapping cache </p>

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00069">69</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9e55f481f89437327a3ed9df5bbcd98b"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::MMD_MAGIC" ref="a9e55f481f89437327a3ed9df5bbcd98b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const boost::uint32_t <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a9e55f481f89437327a3ed9df5bbcd98b">moost::container::memory_mapped_dataset::MMD_MAGIC</a> = 0x7473614C<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>helps us to identify the file and verify byte order </p>

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00066">66</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6ac87c56b5ab8074c7e5257763437b49"></a><!-- doxytag: member="moost::container::memory_mapped_dataset::MMD_VERSION" ref="a6ac87c56b5ab8074c7e5257763437b49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const boost::uint32_t <a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html#a6ac87c56b5ab8074c7e5257763437b49">moost::container::memory_mapped_dataset::MMD_VERSION</a> = 1<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>increment in case of incompatible format changes </p>

<p>Definition at line <a class="el" href="dataset_8hpp_source.html#l00067">67</a> of file <a class="el" href="dataset_8hpp_source.html">dataset.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/mhx/git/github/libmoost/include/moost/container/memory_mapped_dataset/<a class="el" href="dataset_8hpp_source.html">dataset.hpp</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacemoost.html">moost</a>      </li>
      <li class="navelem"><a class="el" href="namespacemoost_1_1container.html">container</a>      </li>
      <li class="navelem"><a class="el" href="classmoost_1_1container_1_1memory__mapped__dataset.html">memory_mapped_dataset</a>      </li>

    <li class="footer">Generated on Wed Feb 20 2013 05:56:09 for libmoost by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
