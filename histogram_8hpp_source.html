<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libmoost: /home/mhx/git/github/libmoost/include/moost/utils/histogram.hpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">libmoost
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('histogram_8hpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">/home/mhx/git/github/libmoost/include/moost/utils/histogram.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="histogram_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* vim:set ts=3 sw=3 sts=3 et: */</span>
<a name="l00028"></a>00028 <span class="preprocessor">#ifndef MOOST_UTILS_HISTOGRAM_HPP__</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#define MOOST_UTILS_HISTOGRAM_HPP__</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00095"></a>00095 
<a name="l00100"></a>00100 
<a name="l00102"></a>00102 
<a name="l00109"></a>00109 
<a name="l00123"></a>00123 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00124"></a>00124 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00125"></a>00125 <span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00126"></a>00126 <span class="preprocessor">#include &lt;stdexcept&gt;</span>
<a name="l00127"></a>00127 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00128"></a>00128 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00129"></a>00129 <span class="preprocessor">#include &lt;cmath&gt;</span>
<a name="l00130"></a>00130 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00131"></a>00131 <span class="preprocessor">#include &lt;limits&gt;</span>
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 <span class="preprocessor">#include &quot;<a class="code" href="foreach_8hpp.html">foreach.hpp</a>&quot;</span>
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="keyword">namespace </span>moost { <span class="keyword">namespace </span>utils {
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> FloatType&gt;
<a name="l00138"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html">00138</a> <span class="keyword">class </span><a class="code" href="classmoost_1_1utils_1_1histogram.html">histogram</a>
<a name="l00139"></a>00139 {
<a name="l00140"></a>00140 <span class="keyword">public</span>:
<a name="l00141"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">00141</a>    <span class="keyword">typedef</span> FloatType <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a>;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 <span class="keyword">private</span>:
<a name="l00144"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html">00144</a>    <span class="keyword">struct </span><a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html">data_info</a>
<a name="l00145"></a>00145    {
<a name="l00146"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a5ac3de3e0b201b0e284abf4ce312e7ef">00146</a>       std::vector&lt;float_type&gt; <a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a5ac3de3e0b201b0e284abf4ce312e7ef">vec</a>;
<a name="l00147"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a70e9fc0178e10754b1ab4f2073216937">00147</a>       std::string <a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a70e9fc0178e10754b1ab4f2073216937">id</a>;
<a name="l00148"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a2374f355d6bc7679b903dca0e0717457">00148</a>       std::string <a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a2374f355d6bc7679b903dca0e0717457">sym</a>;
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a6e38fc806b67a97d8ec42e65c9b431af">00150</a>       <a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a6e38fc806b67a97d8ec42e65c9b431af">data_info</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>, <span class="keyword">const</span> std::string&amp; <a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a2374f355d6bc7679b903dca0e0717457">sym</a>)
<a name="l00151"></a>00151          : id(id)
<a name="l00152"></a>00152          , sym(sym)
<a name="l00153"></a>00153       {}
<a name="l00154"></a>00154    };
<a name="l00155"></a>00155 
<a name="l00156"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html">00156</a>    <span class="keyword">struct </span><a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html">range_info</a>
<a name="l00157"></a>00157    {
<a name="l00158"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#aa02af3f41b885851d76461a91a9afbcc">00158</a>       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#aa02af3f41b885851d76461a91a9afbcc">offset</a>;
<a name="l00159"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#ad4f8f0da4d13dbf1575df0b8526aebf4">00159</a>       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#ad4f8f0da4d13dbf1575df0b8526aebf4">bin_width</a>;
<a name="l00160"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">00160</a>       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a>;
<a name="l00161"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#a9452e82f53b6c5367f4e665a32380c2b">00161</a>       std::string <a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#a9452e82f53b6c5367f4e665a32380c2b">unit_prefix</a>;
<a name="l00162"></a>00162    };
<a name="l00163"></a>00163 
<a name="l00164"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html">00164</a>    <span class="keyword">struct </span><a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html">stats</a>
<a name="l00165"></a>00165    {
<a name="l00166"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a1ece63ec894e29a6a1661938d7b6a218">00166</a>       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a1ece63ec894e29a6a1661938d7b6a218">min</a>;
<a name="l00167"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a6628e5183aba84189780b92c3c86b20b">00167</a>       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a6628e5183aba84189780b92c3c86b20b">max</a>;
<a name="l00168"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a5573becb069a7e8b8954dcb372389dbb">00168</a>       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a5573becb069a7e8b8954dcb372389dbb">mean</a>;
<a name="l00169"></a><a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a04ec8404baa73979307076eca2254424">00169</a>       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a04ec8404baa73979307076eca2254424">dev</a>;
<a name="l00170"></a>00170    };
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="keyword">public</span>:
<a name="l00173"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#ab9887d358f8fcc29bd7b440da56fd2ca">00173</a>    <a class="code" href="classmoost_1_1utils_1_1histogram.html#ab9887d358f8fcc29bd7b440da56fd2ca">histogram</a>(<span class="keyword">const</span> std::string&amp; unit, <span class="keywordtype">size_t</span> bins = 120, <span class="keywordtype">size_t</span> height = 25)
<a name="l00174"></a>00174       : <a class="code" href="classmoost_1_1utils_1_1histogram.html#afc3a393b3c51094f578da0b3abfa31de">m_count</a>(0)
<a name="l00175"></a>00175       , <a class="code" href="classmoost_1_1utils_1_1histogram.html#ac9116a6f1d212f8a62da4dae333fe48e">m_unit</a>(unit)
<a name="l00176"></a>00176       , <a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a>(bins)
<a name="l00177"></a>00177       , <a class="code" href="classmoost_1_1utils_1_1histogram.html#a98f751ef1ef8d63eaec6e516639f03b5">m_height</a>(height)
<a name="l00178"></a>00178       , <a class="code" href="classmoost_1_1utils_1_1histogram.html#a9fe6d9aed48fb88be7caf8b76b5e8db3">m_lo_cutoff</a>(0.01)
<a name="l00179"></a>00179       , <a class="code" href="classmoost_1_1utils_1_1histogram.html#ab1ec31081fbf6ef1cfec85e360127f62">m_hi_cutoff</a>(0.01)
<a name="l00180"></a>00180       , <a class="code" href="classmoost_1_1utils_1_1histogram.html#aa121087ec48349e331bafb49623d070f">m_prec</a>(4)
<a name="l00181"></a>00181    {
<a name="l00182"></a>00182       <span class="keywordflow">if</span> (<a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a> &lt; 1)
<a name="l00183"></a>00183       {
<a name="l00184"></a>00184          <span class="keywordflow">throw</span> std::range_error(<span class="stringliteral">&quot;invalid number of bins&quot;</span>);
<a name="l00185"></a>00185       }
<a name="l00186"></a>00186 
<a name="l00187"></a>00187       <span class="keywordflow">if</span> (<a class="code" href="classmoost_1_1utils_1_1histogram.html#a98f751ef1ef8d63eaec6e516639f03b5">m_height</a> &lt; 1)
<a name="l00188"></a>00188       {
<a name="l00189"></a>00189          <span class="keywordflow">throw</span> std::range_error(<span class="stringliteral">&quot;invalid histogram height&quot;</span>);
<a name="l00190"></a>00190       }
<a name="l00191"></a>00191    }
<a name="l00192"></a>00192 
<a name="l00193"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#ad8eb34fe9d2824216fe90d36a2528a68">00193</a>    <span class="keywordtype">void</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#ad8eb34fe9d2824216fe90d36a2528a68">set_display_range</a>(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> min, <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> max)
<a name="l00194"></a>00194    {
<a name="l00195"></a>00195       <span class="keywordflow">if</span> (min &gt;= max || min &lt; 0.0 || max &gt; 1.0)
<a name="l00196"></a>00196       {
<a name="l00197"></a>00197          <span class="keywordflow">throw</span> std::range_error(<span class="stringliteral">&quot;invalid display range&quot;</span>);
<a name="l00198"></a>00198       }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a9fe6d9aed48fb88be7caf8b76b5e8db3">m_lo_cutoff</a> = min;
<a name="l00201"></a>00201       <a class="code" href="classmoost_1_1utils_1_1histogram.html#ab1ec31081fbf6ef1cfec85e360127f62">m_hi_cutoff</a> = 1.0 - max;
<a name="l00202"></a>00202    }
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a2a01b3b2f189332f52c993c447022815">00204</a>    <span class="keywordtype">void</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a2a01b3b2f189332f52c993c447022815">set_precision</a>(<span class="keywordtype">size_t</span> prec)
<a name="l00205"></a>00205    {
<a name="l00206"></a>00206       <a class="code" href="classmoost_1_1utils_1_1histogram.html#aa121087ec48349e331bafb49623d070f">m_prec</a> = prec;
<a name="l00207"></a>00207    }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209    <span class="keyword">template</span> &lt;<span class="keyword">class</span> InputIterator&gt;
<a name="l00210"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a4abce0fcb33b72729d8131f5b632f652">00210</a>    <span class="keywordtype">void</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a4abce0fcb33b72729d8131f5b632f652">add</a>(InputIterator first, InputIterator last, <span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>, <span class="keyword">const</span> std::string&amp; sym)
<a name="l00211"></a>00211    {
<a name="l00212"></a>00212       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>.push_back(<a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html">data_info</a>(<span class="keywordtype">id</span>, sym));
<a name="l00213"></a>00213       std::copy(first, last, std::back_inserter(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>.back().vec));
<a name="l00214"></a>00214       <a class="code" href="classmoost_1_1utils_1_1histogram.html#afc3a393b3c51094f578da0b3abfa31de">m_count</a> += <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>.back().vec.size();
<a name="l00215"></a>00215    }
<a name="l00216"></a>00216 
<a name="l00217"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#aff749470d95831eb0a91d5f5387db168">00217</a>    <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="classmoost_1_1utils_1_1histogram.html#aff749470d95831eb0a91d5f5387db168">mean</a>()<span class="keyword"> const</span>
<a name="l00218"></a>00218 <span class="keyword">   </span>{
<a name="l00219"></a>00219       <a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html">stats</a> st;
<a name="l00220"></a>00220       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a064dbdec3f80672e7e8201d09e7057a7">get_stats</a>(st, <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>);
<a name="l00221"></a>00221       <span class="keywordflow">return</span> st.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a5573becb069a7e8b8954dcb372389dbb">mean</a>;
<a name="l00222"></a>00222    }
<a name="l00223"></a>00223 
<a name="l00224"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#ab77178b12c989748aa2e083dcb8b1ce4">00224</a>    <span class="keywordtype">void</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#ab77178b12c989748aa2e083dcb8b1ce4">draw</a>(std::ostream&amp; os, <span class="keywordtype">bool</span> legend = <span class="keyword">true</span>)<span class="keyword"> const</span>
<a name="l00225"></a>00225 <span class="keyword">   </span>{
<a name="l00226"></a>00226       <span class="keywordflow">if</span> (<a class="code" href="classmoost_1_1utils_1_1histogram.html#afc3a393b3c51094f578da0b3abfa31de">m_count</a> == 0)
<a name="l00227"></a>00227       {
<a name="l00228"></a>00228          <span class="comment">// maybe we can do something more useful here?</span>
<a name="l00229"></a>00229          <span class="keywordflow">return</span>;
<a name="l00230"></a>00230       }
<a name="l00231"></a>00231 
<a name="l00232"></a>00232       <a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html">range_info</a> ri;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a78050b8cbdea166a5579cfd117aefd9d">optimum_range</a>(ri);
<a name="l00235"></a>00235 
<a name="l00236"></a>00236       std::map&lt; std::string, std::vector&lt;size_t&gt; &gt; binvec;
<a name="l00237"></a>00237       std::vector&lt;size_t&gt; total(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a> + 1);
<a name="l00238"></a>00238 
<a name="l00239"></a>00239       <span class="keywordflow">foreach</span> (<span class="keyword">const</span> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html">data_info</a>&amp; di, <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>)
<a name="l00240"></a>00240       {
<a name="l00241"></a>00241          std::vector&lt;size_t&gt;&amp; bv = binvec[di.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a70e9fc0178e10754b1ab4f2073216937">id</a>];
<a name="l00242"></a>00242 
<a name="l00243"></a>00243          bv.resize(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a> + 1);
<a name="l00244"></a>00244 
<a name="l00245"></a>00245          <span class="keywordflow">foreach</span> (<a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> v, di.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a5ac3de3e0b201b0e284abf4ce312e7ef">vec</a>)
<a name="l00246"></a>00246          {
<a name="l00247"></a>00247             <span class="keywordtype">size_t</span> bin = std::min(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a>, static_cast&lt;size_t&gt;(std::max(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a>(0.0), (v - ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#aa02af3f41b885851d76461a91a9afbcc">offset</a>)/ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#ad4f8f0da4d13dbf1575df0b8526aebf4">bin_width</a>)));
<a name="l00248"></a>00248             ++bv[bin];
<a name="l00249"></a>00249             ++total[bin];
<a name="l00250"></a>00250          }
<a name="l00251"></a>00251       }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253       <span class="keywordtype">size_t</span> max_total = *std::max_element(total.begin(), total.end());
<a name="l00254"></a>00254 
<a name="l00255"></a>00255       <span class="keyword">typedef</span> std::vector&lt; std::vector&lt;std::string&gt; &gt; mx_t;
<a name="l00256"></a>00256       mx_t mx(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a98f751ef1ef8d63eaec6e516639f03b5">m_height</a>);
<a name="l00257"></a>00257 
<a name="l00258"></a>00258       <span class="keywordflow">foreach</span> (std::vector&lt;std::string&gt;&amp; v, mx)
<a name="l00259"></a>00259       {
<a name="l00260"></a>00260          v.resize(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a> + 1);
<a name="l00261"></a>00261          std::fill(v.begin(), v.end(), <span class="stringliteral">&quot; &quot;</span>);
<a name="l00262"></a>00262       }
<a name="l00263"></a>00263 
<a name="l00264"></a>00264       <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> bin = 0; bin &lt;= <a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a>; ++bin)
<a name="l00265"></a>00265       {
<a name="l00266"></a>00266          <span class="keywordtype">size_t</span> accu = 0;
<a name="l00267"></a>00267          <span class="keywordtype">size_t</span> top = 0;
<a name="l00268"></a>00268 
<a name="l00269"></a>00269          <span class="keywordflow">foreach</span> (<span class="keyword">const</span> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html">data_info</a>&amp; di, <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>)
<a name="l00270"></a>00270          {
<a name="l00271"></a>00271             accu += binvec.find(di.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a70e9fc0178e10754b1ab4f2073216937">id</a>)-&gt;second[bin];
<a name="l00272"></a>00272 
<a name="l00273"></a>00273             <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> new_top = (accu*<a class="code" href="classmoost_1_1utils_1_1histogram.html#a98f751ef1ef8d63eaec6e516639f03b5">m_height</a> + max_total/2)/max_total; top &lt; new_top; ++top)
<a name="l00274"></a>00274             {
<a name="l00275"></a>00275                mx[top][bin] = di.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a2374f355d6bc7679b903dca0e0717457">sym</a>;
<a name="l00276"></a>00276             }
<a name="l00277"></a>00277          }
<a name="l00278"></a>00278       }
<a name="l00279"></a>00279 
<a name="l00280"></a>00280       std::ostream_iterator&lt;std::string&gt; osi(os);
<a name="l00281"></a>00281       std::fill_n(osi, <a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a> + 1, <span class="stringliteral">&quot;-&quot;</span>);
<a name="l00282"></a>00282       os &lt;&lt; <a class="code" href="namespacestd.html#a6309ea7d4a5977b39fecf89747491b6d">std::endl</a>;
<a name="l00283"></a>00283 
<a name="l00284"></a>00284       <span class="keywordflow">for</span> (mx_t::reverse_iterator it = mx.rbegin(); it != mx.rend(); ++it)
<a name="l00285"></a>00285       {
<a name="l00286"></a>00286          std::copy(it-&gt;begin(), it-&gt;end(), osi);
<a name="l00287"></a>00287          os &lt;&lt; <a class="code" href="namespacestd.html#a6309ea7d4a5977b39fecf89747491b6d">std::endl</a>;
<a name="l00288"></a>00288       }
<a name="l00289"></a>00289 
<a name="l00290"></a>00290       std::fill_n(osi, <a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a> + 1, <span class="stringliteral">&quot;-&quot;</span>);
<a name="l00291"></a>00291       os &lt;&lt; <a class="code" href="namespacestd.html#a6309ea7d4a5977b39fecf89747491b6d">std::endl</a>;
<a name="l00292"></a>00292 
<a name="l00293"></a>00293       std::string ticks, labels;
<a name="l00294"></a>00294       ticks.resize(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a> + 1, <span class="charliteral">&#39; &#39;</span>);
<a name="l00295"></a>00295       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a0f3194451be3d25342b79700a495820b">add_ticks</a>(ticks, ri, 1 + <a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a>/2, <span class="charliteral">&#39;\&#39;&#39;</span>);
<a name="l00296"></a>00296       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a0f3194451be3d25342b79700a495820b">add_ticks</a>(ticks, ri, 1 + <a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a>/8, <span class="charliteral">&#39;|&#39;</span>, &amp;labels);
<a name="l00297"></a>00297 
<a name="l00298"></a>00298       os &lt;&lt; ticks &lt;&lt; <a class="code" href="namespacestd.html#a6309ea7d4a5977b39fecf89747491b6d">std::endl</a>;
<a name="l00299"></a>00299       os &lt;&lt; labels &lt;&lt; <a class="code" href="namespacestd.html#a6309ea7d4a5977b39fecf89747491b6d">std::endl</a>;
<a name="l00300"></a>00300 
<a name="l00301"></a>00301       <span class="keywordflow">if</span> (legend)
<a name="l00302"></a>00302       {
<a name="l00303"></a>00303          <a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html">stats</a> st;
<a name="l00304"></a>00304          os &lt;&lt; <a class="code" href="namespacestd.html#a6309ea7d4a5977b39fecf89747491b6d">std::endl</a>;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306          <span class="keywordflow">foreach</span> (<span class="keyword">const</span> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html">data_info</a>&amp; di, <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>)
<a name="l00307"></a>00307          {
<a name="l00308"></a>00308             <a class="code" href="classmoost_1_1utils_1_1histogram.html#a064dbdec3f80672e7e8201d09e7057a7">get_stats</a>(st, di.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a5ac3de3e0b201b0e284abf4ce312e7ef">vec</a>);
<a name="l00309"></a>00309 
<a name="l00310"></a>00310             std::ostringstream oss;
<a name="l00311"></a>00311             oss.setf(std::ios_base::fixed, std::ios_base::floatfield);
<a name="l00312"></a>00312             oss.precision(2);
<a name="l00313"></a>00313             oss &lt;&lt; 100.0*di.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a5ac3de3e0b201b0e284abf4ce312e7ef">vec</a>.size()/<a class="code" href="classmoost_1_1utils_1_1histogram.html#afc3a393b3c51094f578da0b3abfa31de">m_count</a> &lt;&lt; <span class="stringliteral">&quot; %&quot;</span>;
<a name="l00314"></a>00314 
<a name="l00315"></a>00315             os &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; di.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a2374f355d6bc7679b903dca0e0717457">sym</a> &lt;&lt; <span class="stringliteral">&quot;] &quot;</span> &lt;&lt; di.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a70e9fc0178e10754b1ab4f2073216937">id</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; oss.str() &lt;&lt; <span class="stringliteral">&quot;): &quot;</span> &lt;&lt; <a class="code" href="classmoost_1_1utils_1_1histogram.html#a4453468c0388198d72cd677b67a70e9c">stats2str</a>(st, ri) &lt;&lt; <a class="code" href="namespacestd.html#a6309ea7d4a5977b39fecf89747491b6d">std::endl</a>;
<a name="l00316"></a>00316          }
<a name="l00317"></a>00317 
<a name="l00318"></a>00318          <span class="keywordflow">if</span> (<a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>.size() &gt; 1)
<a name="l00319"></a>00319          {
<a name="l00320"></a>00320             <a class="code" href="classmoost_1_1utils_1_1histogram.html#a064dbdec3f80672e7e8201d09e7057a7">get_stats</a>(st, <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>);
<a name="l00321"></a>00321             os &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot; overall: &quot;</span> &lt;&lt; <a class="code" href="classmoost_1_1utils_1_1histogram.html#a4453468c0388198d72cd677b67a70e9c">stats2str</a>(st, ri) &lt;&lt; <a class="code" href="namespacestd.html#a6309ea7d4a5977b39fecf89747491b6d">std::endl</a>;
<a name="l00322"></a>00322          }
<a name="l00323"></a>00323 
<a name="l00324"></a>00324          os &lt;&lt; <a class="code" href="namespacestd.html#a6309ea7d4a5977b39fecf89747491b6d">std::endl</a>;
<a name="l00325"></a>00325          std::fill_n(osi, <a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a> + 1, <span class="stringliteral">&quot;-&quot;</span>);
<a name="l00326"></a>00326          os &lt;&lt; <a class="code" href="namespacestd.html#a6309ea7d4a5977b39fecf89747491b6d">std::endl</a>;
<a name="l00327"></a>00327       }
<a name="l00328"></a>00328    }
<a name="l00329"></a>00329 
<a name="l00330"></a>00330 <span class="keyword">private</span>:
<a name="l00331"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a4453468c0388198d72cd677b67a70e9c">00331</a>    std::string <a class="code" href="classmoost_1_1utils_1_1histogram.html#a4453468c0388198d72cd677b67a70e9c">stats2str</a>(<span class="keyword">const</span> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html">stats</a>&amp; st, <span class="keyword">const</span> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html">range_info</a>&amp; ri)<span class="keyword"> const</span>
<a name="l00332"></a>00332 <span class="keyword">   </span>{
<a name="l00333"></a>00333       std::ostringstream oss;
<a name="l00334"></a>00334 
<a name="l00335"></a>00335       oss.precision(<a class="code" href="classmoost_1_1utils_1_1histogram.html#aa121087ec48349e331bafb49623d070f">m_prec</a>);
<a name="l00336"></a>00336 
<a name="l00337"></a>00337       oss &lt;&lt; st.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a5573becb069a7e8b8954dcb372389dbb">mean</a>/ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a> &lt;&lt; <span class="stringliteral">&quot; ± &quot;</span> &lt;&lt; st.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a04ec8404baa73979307076eca2254424">dev</a>/ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#a9452e82f53b6c5367f4e665a32380c2b">unit_prefix</a> &lt;&lt; <a class="code" href="classmoost_1_1utils_1_1histogram.html#ac9116a6f1d212f8a62da4dae333fe48e">m_unit</a>
<a name="l00338"></a>00338           &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; st.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a1ece63ec894e29a6a1661938d7b6a218">min</a>/ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a> &lt;&lt; <span class="stringliteral">&quot; .. &quot;</span> &lt;&lt;  st.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a6628e5183aba84189780b92c3c86b20b">max</a>/ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a>&lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#a9452e82f53b6c5367f4e665a32380c2b">unit_prefix</a> &lt;&lt; <a class="code" href="classmoost_1_1utils_1_1histogram.html#ac9116a6f1d212f8a62da4dae333fe48e">m_unit</a> &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;
<a name="l00339"></a>00339 
<a name="l00340"></a>00340       <span class="keywordflow">return</span> oss.str();
<a name="l00341"></a>00341    }
<a name="l00342"></a>00342 
<a name="l00343"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a064dbdec3f80672e7e8201d09e7057a7">00343</a>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a064dbdec3f80672e7e8201d09e7057a7">get_stats</a>(<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html">stats</a>&amp; s, <span class="keyword">const</span> std::vector&lt;data_info&gt;&amp; vdvec)
<a name="l00344"></a>00344    {
<a name="l00345"></a>00345       std::vector&lt;const std::vector&lt;float_type&gt; *&gt; vv;
<a name="l00346"></a>00346       <span class="keywordflow">foreach</span> (<span class="keyword">const</span> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html">data_info</a>&amp; di, vdvec)
<a name="l00347"></a>00347       {
<a name="l00348"></a>00348          vv.push_back(&amp;di.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1data__info.html#a5ac3de3e0b201b0e284abf4ce312e7ef">vec</a>);
<a name="l00349"></a>00349       }
<a name="l00350"></a>00350       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a064dbdec3f80672e7e8201d09e7057a7">get_stats</a>(s, vv);
<a name="l00351"></a>00351    }
<a name="l00352"></a>00352 
<a name="l00353"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#afd33c550e33c2af16ef0307e871e48cb">00353</a>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a064dbdec3f80672e7e8201d09e7057a7">get_stats</a>(<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html">stats</a>&amp; s, <span class="keyword">const</span> std::vector&lt;float_type&gt;&amp; vec)
<a name="l00354"></a>00354    {
<a name="l00355"></a>00355       std::vector&lt;const std::vector&lt;float_type&gt; *&gt; vv;
<a name="l00356"></a>00356       vv.push_back(&amp;vec);
<a name="l00357"></a>00357       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a064dbdec3f80672e7e8201d09e7057a7">get_stats</a>(s, vv);
<a name="l00358"></a>00358    }
<a name="l00359"></a>00359 
<a name="l00360"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a31905a3d0e0a7989b4d68debf74c098b">00360</a>    <span class="keyword">static</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a31905a3d0e0a7989b4d68debf74c098b">invalid_value</a>()
<a name="l00361"></a>00361    {
<a name="l00362"></a>00362       <span class="keywordflow">return</span> std::numeric_limits&lt;float_type&gt;::has_quiet_NaN
<a name="l00363"></a>00363              ? std::numeric_limits&lt;float_type&gt;::quiet_NaN()
<a name="l00364"></a>00364              : <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a>(0);
<a name="l00365"></a>00365    }
<a name="l00366"></a>00366 
<a name="l00367"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#ad7407781f4c417007f32d54f65a9a264">00367</a>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a064dbdec3f80672e7e8201d09e7057a7">get_stats</a>(<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html">stats</a>&amp; s, <span class="keyword">const</span> std::vector&lt;<span class="keyword">const</span> std::vector&lt;float_type&gt; *&gt;&amp; vv)
<a name="l00368"></a>00368    {
<a name="l00369"></a>00369       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> min = <a class="code" href="classmoost_1_1utils_1_1histogram.html#a31905a3d0e0a7989b4d68debf74c098b">invalid_value</a>();
<a name="l00370"></a>00370       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> max = <a class="code" href="classmoost_1_1utils_1_1histogram.html#a31905a3d0e0a7989b4d68debf74c098b">invalid_value</a>();
<a name="l00371"></a>00371       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> sum = 0;
<a name="l00372"></a>00372       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> sum_of_squares = 0;
<a name="l00373"></a>00373       <span class="keywordtype">size_t</span> count = 0;
<a name="l00374"></a>00374 
<a name="l00375"></a>00375       <span class="keywordflow">foreach</span> (<span class="keyword">const</span> std::vector&lt;float_type&gt; *vec, vv)
<a name="l00376"></a>00376       {
<a name="l00377"></a>00377          <span class="keywordflow">foreach</span> (<a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> v, *vec)
<a name="l00378"></a>00378          {
<a name="l00379"></a>00379             sum += v;
<a name="l00380"></a>00380             sum_of_squares += v*v;
<a name="l00381"></a>00381 
<a name="l00382"></a>00382             <span class="keywordflow">if</span> (count == 0 || v &lt; min)
<a name="l00383"></a>00383                min = v;
<a name="l00384"></a>00384 
<a name="l00385"></a>00385             <span class="keywordflow">if</span> (count == 0 || v &gt; max)
<a name="l00386"></a>00386                max = v;
<a name="l00387"></a>00387 
<a name="l00388"></a>00388             ++count;
<a name="l00389"></a>00389          }
<a name="l00390"></a>00390       }
<a name="l00391"></a>00391 
<a name="l00392"></a>00392       <span class="keywordflow">if</span> (count &gt; 0)
<a name="l00393"></a>00393       {
<a name="l00394"></a>00394          s.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a5573becb069a7e8b8954dcb372389dbb">mean</a> = sum/count;
<a name="l00395"></a>00395 
<a name="l00396"></a>00396          <span class="keywordflow">if</span> (count &gt; 1)
<a name="l00397"></a>00397          {
<a name="l00398"></a>00398             s.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a04ec8404baa73979307076eca2254424">dev</a> = std::sqrt((sum_of_squares - s.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a5573becb069a7e8b8954dcb372389dbb">mean</a>*sum)/(count - 1));
<a name="l00399"></a>00399          }
<a name="l00400"></a>00400          <span class="keywordflow">else</span>
<a name="l00401"></a>00401          {
<a name="l00402"></a>00402             s.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a04ec8404baa73979307076eca2254424">dev</a> = <a class="code" href="classmoost_1_1utils_1_1histogram.html#a31905a3d0e0a7989b4d68debf74c098b">invalid_value</a>();
<a name="l00403"></a>00403          }
<a name="l00404"></a>00404       }
<a name="l00405"></a>00405       <span class="keywordflow">else</span>
<a name="l00406"></a>00406       {
<a name="l00407"></a>00407          s.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a5573becb069a7e8b8954dcb372389dbb">mean</a> = <a class="code" href="classmoost_1_1utils_1_1histogram.html#a31905a3d0e0a7989b4d68debf74c098b">invalid_value</a>();
<a name="l00408"></a>00408          s.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a04ec8404baa73979307076eca2254424">dev</a> = <a class="code" href="classmoost_1_1utils_1_1histogram.html#a31905a3d0e0a7989b4d68debf74c098b">invalid_value</a>();
<a name="l00409"></a>00409       }
<a name="l00410"></a>00410 
<a name="l00411"></a>00411       s.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a1ece63ec894e29a6a1661938d7b6a218">min</a> = min;
<a name="l00412"></a>00412       s.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1stats.html#a6628e5183aba84189780b92c3c86b20b">max</a> = max;
<a name="l00413"></a>00413    }
<a name="l00414"></a>00414 
<a name="l00415"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a78050b8cbdea166a5579cfd117aefd9d">00415</a>    <span class="keywordtype">void</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a78050b8cbdea166a5579cfd117aefd9d">optimum_range</a>(<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html">range_info</a>&amp; ri)<span class="keyword"> const</span>
<a name="l00416"></a>00416 <span class="keyword">   </span>{
<a name="l00417"></a>00417       <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_lower = <a class="code" href="classmoost_1_1utils_1_1histogram.html#afc3a393b3c51094f578da0b3abfa31de">m_count</a>*<a class="code" href="classmoost_1_1utils_1_1histogram.html#a9fe6d9aed48fb88be7caf8b76b5e8db3">m_lo_cutoff</a> + 1;
<a name="l00418"></a>00418       <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_upper = <a class="code" href="classmoost_1_1utils_1_1histogram.html#afc3a393b3c51094f578da0b3abfa31de">m_count</a>*<a class="code" href="classmoost_1_1utils_1_1histogram.html#ab1ec31081fbf6ef1cfec85e360127f62">m_hi_cutoff</a> + 1;
<a name="l00419"></a>00419 
<a name="l00420"></a>00420       std::vector&lt;float_type&gt; small(num_lower*<a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>.size()), large(num_upper*<a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>.size());
<a name="l00421"></a>00421 
<a name="l00422"></a>00422       <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>.size(); ++i)
<a name="l00423"></a>00423       {
<a name="l00424"></a>00424          std::partial_sort_copy(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>[i].vec.begin(), <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>[i].vec.end(),
<a name="l00425"></a>00425                                 small.begin() + i*num_lower, small.begin() + (i + 1)*num_lower);
<a name="l00426"></a>00426          std::partial_sort_copy(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>[i].vec.begin(), <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>[i].vec.end(),
<a name="l00427"></a>00427                                 large.begin() + i*num_upper, large.begin() + (i + 1)*num_upper, std::greater&lt;float_type&gt;());
<a name="l00428"></a>00428       }
<a name="l00429"></a>00429 
<a name="l00430"></a>00430       std::partial_sort(small.begin(), small.begin() + num_lower, small.end());
<a name="l00431"></a>00431       std::partial_sort(large.begin(), large.begin() + num_upper, large.end(), std::greater&lt;float_type&gt;());
<a name="l00432"></a>00432 
<a name="l00433"></a>00433       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> xmin = small[<a class="code" href="classmoost_1_1utils_1_1histogram.html#afc3a393b3c51094f578da0b3abfa31de">m_count</a>*<a class="code" href="classmoost_1_1utils_1_1histogram.html#a9fe6d9aed48fb88be7caf8b76b5e8db3">m_lo_cutoff</a>];
<a name="l00434"></a>00434       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> xmax = large[<a class="code" href="classmoost_1_1utils_1_1histogram.html#afc3a393b3c51094f578da0b3abfa31de">m_count</a>*<a class="code" href="classmoost_1_1utils_1_1histogram.html#ab1ec31081fbf6ef1cfec85e360127f62">m_hi_cutoff</a>];
<a name="l00435"></a>00435 
<a name="l00436"></a>00436       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> delta = <a class="code" href="classmoost_1_1utils_1_1histogram.html#a41ffa6fbc166e4511b11dadba39c5acd">nicenum</a>((xmax - xmin)/(1 + <a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a>/8), <span class="keyword">true</span>);
<a name="l00437"></a>00437 
<a name="l00438"></a>00438       ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#aa02af3f41b885851d76461a91a9afbcc">offset</a> = std::floor(xmin/delta)*delta;
<a name="l00439"></a>00439       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> upper = std::ceil(xmax/delta)*delta;
<a name="l00440"></a>00440       ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#ad4f8f0da4d13dbf1575df0b8526aebf4">bin_width</a> = <a class="code" href="classmoost_1_1utils_1_1histogram.html#ac6c91be6639c0f9d5c4eda245186630c">nice_bin_width</a>((upper - ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#aa02af3f41b885851d76461a91a9afbcc">offset</a>)/<a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a>);
<a name="l00441"></a>00441 
<a name="l00442"></a>00442       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> exp = std::log10(std::max(std::abs(xmin), std::abs(xmax)));
<a name="l00443"></a>00443 
<a name="l00444"></a>00444       <span class="keywordflow">if</span> (exp &lt; 0.0)
<a name="l00445"></a>00445       {
<a name="l00446"></a>00446          <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix[] = { <span class="stringliteral">&quot;m&quot;</span>, <span class="stringliteral">&quot;u&quot;</span>, <span class="stringliteral">&quot;n&quot;</span>, <span class="stringliteral">&quot;p&quot;</span> };
<a name="l00447"></a>00447          <span class="keywordtype">int</span> ix = std::min(3, static_cast&lt;int&gt;((0.0 - exp)/3.0));
<a name="l00448"></a>00448          ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#a9452e82f53b6c5367f4e665a32380c2b">unit_prefix</a> = prefix[ix];
<a name="l00449"></a>00449          ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a> = std::pow(1e-3, ix + 1);
<a name="l00450"></a>00450       }
<a name="l00451"></a>00451       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (exp &gt; 3.0)
<a name="l00452"></a>00452       {
<a name="l00453"></a>00453          <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix[] = { <span class="stringliteral">&quot;k&quot;</span>, <span class="stringliteral">&quot;M&quot;</span>, <span class="stringliteral">&quot;T&quot;</span>, <span class="stringliteral">&quot;P&quot;</span> };
<a name="l00454"></a>00454          <span class="keywordtype">int</span> ix = std::min(3, static_cast&lt;int&gt;((exp - 3.0)/3.0));
<a name="l00455"></a>00455          ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#a9452e82f53b6c5367f4e665a32380c2b">unit_prefix</a> = prefix[ix];
<a name="l00456"></a>00456          ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a> = std::pow(1e3, ix + 1);
<a name="l00457"></a>00457       }
<a name="l00458"></a>00458       <span class="keywordflow">else</span>
<a name="l00459"></a>00459       {
<a name="l00460"></a>00460          ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#a9452e82f53b6c5367f4e665a32380c2b">unit_prefix</a>.clear();
<a name="l00461"></a>00461          ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a> = 1.0;
<a name="l00462"></a>00462       }
<a name="l00463"></a>00463    }
<a name="l00464"></a>00464 
<a name="l00465"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a0f3194451be3d25342b79700a495820b">00465</a>    <span class="keywordtype">void</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a0f3194451be3d25342b79700a495820b">add_ticks</a>(std::string&amp; ticks, <span class="keyword">const</span> <a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html">range_info</a>&amp; ri, <span class="keywordtype">size_t</span> desired_count, <span class="keywordtype">char</span> tickmark, std::string *labels = 0)<span class="keyword"> const</span>
<a name="l00466"></a>00466 <span class="keyword">   </span>{
<a name="l00467"></a>00467       <span class="comment">// Adapted from: Andrew S. Glassner &quot;Graphics Gems&quot;, p.61</span>
<a name="l00468"></a>00468 
<a name="l00469"></a>00469       <span class="keyword">const</span> <span class="keywordtype">size_t</span> min_label_sep = 2;
<a name="l00470"></a>00470       <span class="keyword">const</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> xmin = ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#aa02af3f41b885851d76461a91a9afbcc">offset</a>/ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a>;
<a name="l00471"></a>00471       <span class="keyword">const</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> xmax = (ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#aa02af3f41b885851d76461a91a9afbcc">offset</a> + ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#ad4f8f0da4d13dbf1575df0b8526aebf4">bin_width</a>*<a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a>)/ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a>;
<a name="l00472"></a>00472       <span class="keyword">const</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> range = <a class="code" href="classmoost_1_1utils_1_1histogram.html#a41ffa6fbc166e4511b11dadba39c5acd">nicenum</a>(xmax - xmin, <span class="keyword">false</span>, ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#ad4f8f0da4d13dbf1575df0b8526aebf4">bin_width</a>/ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a>);
<a name="l00473"></a>00473       <span class="keyword">const</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> delta = <a class="code" href="classmoost_1_1utils_1_1histogram.html#a41ffa6fbc166e4511b11dadba39c5acd">nicenum</a>(range/desired_count, <span class="keyword">true</span>, ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#ad4f8f0da4d13dbf1575df0b8526aebf4">bin_width</a>/ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a>);
<a name="l00474"></a>00474       <span class="keyword">const</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> gmin = std::floor(xmin/delta)*delta;
<a name="l00475"></a>00475       <span class="keyword">const</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> gmax = std::ceil(xmax/delta)*delta;
<a name="l00476"></a>00476       <span class="keyword">const</span> <span class="keywordtype">int</span> prec = std::max(-static_cast&lt;int&gt;(std::log10(delta) - 0.8), 0);
<a name="l00477"></a>00477       std::string labelstr;
<a name="l00478"></a>00478 
<a name="l00479"></a>00479       <span class="keywordflow">for</span> (<a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> gx = gmin; gx &lt; gmax + 0.5*delta; gx += delta)
<a name="l00480"></a>00480       {
<a name="l00481"></a>00481          <span class="keywordtype">int</span> x = (gx*ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#abefee6fe9b010f6450956960e49dbe14">disp_factor</a> - ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#aa02af3f41b885851d76461a91a9afbcc">offset</a>)/ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#ad4f8f0da4d13dbf1575df0b8526aebf4">bin_width</a> + 0.5;
<a name="l00482"></a>00482 
<a name="l00483"></a>00483          if (x &gt;= 0 &amp;&amp; x &lt; static_cast&lt;int&gt;(ticks.size()))
<a name="l00484"></a>00484          {
<a name="l00485"></a>00485             ticks[x] = tickmark;
<a name="l00486"></a>00486 
<a name="l00487"></a>00487             std::ostringstream oss;
<a name="l00488"></a>00488             oss.setf(std::ios_base::fixed, std::ios_base::floatfield);
<a name="l00489"></a>00489             oss.precision(prec);
<a name="l00490"></a>00490             oss &lt;&lt; gx;
<a name="l00491"></a>00491 
<a name="l00492"></a>00492             <span class="keywordflow">if</span> (labelstr.size() == 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(x) &gt;= labelstr.size() + min_label_sep)
<a name="l00493"></a>00493             {
<a name="l00494"></a>00494                labelstr.append(static_cast&lt;size_t&gt;(x) - labelstr.size(), <span class="charliteral">&#39; &#39;</span>);
<a name="l00495"></a>00495                labelstr.append(oss.str());
<a name="l00496"></a>00496             }
<a name="l00497"></a>00497          }
<a name="l00498"></a>00498       }
<a name="l00499"></a>00499 
<a name="l00500"></a>00500       labelstr.append(<span class="stringliteral">&quot; &quot;</span>);
<a name="l00501"></a>00501       labelstr.append(ri.<a class="code" href="structmoost_1_1utils_1_1histogram_1_1range__info.html#a9452e82f53b6c5367f4e665a32380c2b">unit_prefix</a>);
<a name="l00502"></a>00502       labelstr.append(<a class="code" href="classmoost_1_1utils_1_1histogram.html#ac9116a6f1d212f8a62da4dae333fe48e">m_unit</a>);
<a name="l00503"></a>00503 
<a name="l00504"></a>00504       <span class="keywordflow">if</span> (labels)
<a name="l00505"></a>00505       {
<a name="l00506"></a>00506          labels-&gt;swap(labelstr);
<a name="l00507"></a>00507       }
<a name="l00508"></a>00508    }
<a name="l00509"></a>00509 
<a name="l00510"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a41ffa6fbc166e4511b11dadba39c5acd">00510</a>    <span class="keyword">static</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a41ffa6fbc166e4511b11dadba39c5acd">nicenum</a>(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> x, <span class="keywordtype">bool</span> round, <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> multiple_of = -1.0)
<a name="l00511"></a>00511    {
<a name="l00512"></a>00512       <span class="comment">// Adapted from: Andrew S. Glassner &quot;Graphics Gems&quot;, p.61</span>
<a name="l00513"></a>00513 
<a name="l00514"></a>00514       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> exp = std::floor(std::log10(x));
<a name="l00515"></a>00515       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> frac = x/std::pow(10.0, exp);
<a name="l00516"></a>00516       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> nice;
<a name="l00517"></a>00517       <span class="keywordtype">bool</span> check_multiple = multiple_of &gt; 0.0;
<a name="l00518"></a>00518 
<a name="l00519"></a>00519       <span class="keywordflow">if</span> (check_multiple)
<a name="l00520"></a>00520       {
<a name="l00521"></a>00521          multiple_of /= std::pow(10.0, exp);
<a name="l00522"></a>00522       }
<a name="l00523"></a>00523 
<a name="l00524"></a>00524       <span class="keyword">const</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> (*nn)[2];
<a name="l00525"></a>00525 
<a name="l00526"></a>00526       <span class="keywordflow">if</span> (round)
<a name="l00527"></a>00527       {
<a name="l00528"></a>00528          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> cand[][2] = {
<a name="l00529"></a>00529             { 1.5,  1.0},
<a name="l00530"></a>00530             { 3.0,  2.0},
<a name="l00531"></a>00531             { 7.0,  5.0},
<a name="l00532"></a>00532             {-1.0, 10.0},
<a name="l00533"></a>00533          };
<a name="l00534"></a>00534 
<a name="l00535"></a>00535          nn = &amp;cand[0];
<a name="l00536"></a>00536       }
<a name="l00537"></a>00537       <span class="keywordflow">else</span>
<a name="l00538"></a>00538       {
<a name="l00539"></a>00539          <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> cand[][2] = {
<a name="l00540"></a>00540             { 1.0,  1.0},
<a name="l00541"></a>00541             { 2.0,  2.0},
<a name="l00542"></a>00542             { 5.0,  5.0},
<a name="l00543"></a>00543             {-1.0, 10.0},
<a name="l00544"></a>00544          };
<a name="l00545"></a>00545 
<a name="l00546"></a>00546          nn = &amp;cand[0];
<a name="l00547"></a>00547       }
<a name="l00548"></a>00548 
<a name="l00549"></a>00549       <span class="keywordflow">for</span> (;; ++nn)
<a name="l00550"></a>00550       {
<a name="l00551"></a>00551          <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> integral;
<a name="l00552"></a>00552 
<a name="l00553"></a>00553          <span class="keywordflow">if</span> ((*nn)[0] &lt; 0.0 || (frac &lt; (*nn)[0] &amp;&amp; (!check_multiple || std::fabs(std::modf((*nn)[1]/multiple_of, &amp;integral)) &lt; 1e-6)))
<a name="l00554"></a>00554          {
<a name="l00555"></a>00555             nice = (*nn)[1];
<a name="l00556"></a>00556             <span class="keywordflow">break</span>;
<a name="l00557"></a>00557          }
<a name="l00558"></a>00558       }
<a name="l00559"></a>00559 
<a name="l00560"></a>00560       <span class="keywordflow">return</span> nice*std::pow(10.0, exp);
<a name="l00561"></a>00561    }
<a name="l00562"></a>00562 
<a name="l00563"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#ac6c91be6639c0f9d5c4eda245186630c">00563</a>    <span class="keyword">static</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="classmoost_1_1utils_1_1histogram.html#ac6c91be6639c0f9d5c4eda245186630c">nice_bin_width</a>(<a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> x)
<a name="l00564"></a>00564    {
<a name="l00565"></a>00565       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> exp = std::floor(std::log10(x));
<a name="l00566"></a>00566       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> frac = x/std::pow(10.0, exp);
<a name="l00567"></a>00567       <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> nice;
<a name="l00568"></a>00568 
<a name="l00569"></a>00569       <span class="keywordflow">if</span> (frac &lt; 1.0)
<a name="l00570"></a>00570          nice = 1.0;
<a name="l00571"></a>00571       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frac &lt; 2.0)
<a name="l00572"></a>00572          nice = 2.0;
<a name="l00573"></a>00573       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frac &lt; 2.5)
<a name="l00574"></a>00574          nice = 2.5;
<a name="l00575"></a>00575       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frac &lt; 5.0)
<a name="l00576"></a>00576          nice = 5.0;
<a name="l00577"></a>00577       <span class="keywordflow">else</span>
<a name="l00578"></a>00578          nice = 10.0;
<a name="l00579"></a>00579 
<a name="l00580"></a>00580       <span class="keywordflow">return</span> nice*std::pow(10.0, exp);
<a name="l00581"></a>00581    }
<a name="l00582"></a>00582 
<a name="l00583"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">00583</a>    std::vector&lt;data_info&gt; <a class="code" href="classmoost_1_1utils_1_1histogram.html#a3c2856ad950b57444a58c1bcaf744e67">m_data</a>;
<a name="l00584"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#afc3a393b3c51094f578da0b3abfa31de">00584</a>    <span class="keywordtype">size_t</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#afc3a393b3c51094f578da0b3abfa31de">m_count</a>;
<a name="l00585"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#ac9116a6f1d212f8a62da4dae333fe48e">00585</a>    <span class="keyword">const</span> std::string <a class="code" href="classmoost_1_1utils_1_1histogram.html#ac9116a6f1d212f8a62da4dae333fe48e">m_unit</a>;
<a name="l00586"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">00586</a>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a348eb84a2af212bfe0cd7e5d53494344">m_bins</a>;
<a name="l00587"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a98f751ef1ef8d63eaec6e516639f03b5">00587</a>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a98f751ef1ef8d63eaec6e516639f03b5">m_height</a>;
<a name="l00588"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#a9fe6d9aed48fb88be7caf8b76b5e8db3">00588</a>    <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="classmoost_1_1utils_1_1histogram.html#a9fe6d9aed48fb88be7caf8b76b5e8db3">m_lo_cutoff</a>;
<a name="l00589"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#ab1ec31081fbf6ef1cfec85e360127f62">00589</a>    <a class="code" href="classmoost_1_1utils_1_1histogram.html#a7211089422f6dce850ebd12d06f67247">float_type</a> <a class="code" href="classmoost_1_1utils_1_1histogram.html#ab1ec31081fbf6ef1cfec85e360127f62">m_hi_cutoff</a>;
<a name="l00590"></a><a class="code" href="classmoost_1_1utils_1_1histogram.html#aa121087ec48349e331bafb49623d070f">00590</a>    <span class="keywordtype">size_t</span> <a class="code" href="classmoost_1_1utils_1_1histogram.html#aa121087ec48349e331bafb49623d070f">m_prec</a>;
<a name="l00591"></a>00591 };
<a name="l00592"></a>00592 
<a name="l00593"></a>00593 }}
<a name="l00594"></a>00594 
<a name="l00595"></a>00595 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="histogram_8hpp.html">histogram.hpp</a>      </li>

    <li class="footer">Generated on Wed Feb 20 2013 05:56:08 for libmoost by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
