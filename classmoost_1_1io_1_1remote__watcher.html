<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libmoost: moost::io::remote_watcher Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">libmoost
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classmoost_1_1io_1_1remote__watcher.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">moost::io::remote_watcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="moost::io::remote_watcher" -->
<p>Asynchronously watches a remote file, then notifies a callback function when a change occurs.  
 <a href="classmoost_1_1io_1_1remote__watcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>&gt;</code></p>

<p><a href="classmoost_1_1io_1_1remote__watcher-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a9e219202c3a56ef2048e9d28c6465226">file_action</a> { <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a9e219202c3a56ef2048e9d28c6465226ac5d7b2b0dc1220db714640c5f3d670b0">CREATED</a> =  0, 
<a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a9e219202c3a56ef2048e9d28c6465226ae15dd4e4129ae20df1b9555c77a80987">CHANGED</a> =  1, 
<a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a9e219202c3a56ef2048e9d28c6465226aaf3c1e5dc0cd1702d5f7eaaa2af5d98b">DELETED</a> =  2
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The actions that <a class="el" href="classmoost_1_1io_1_1remote__watcher.html" title="Asynchronously watches a remote file, then notifies a callback function when a change occurs...">remote_watcher</a> can monitor.  <a href="classmoost_1_1io_1_1remote__watcher.html#a9e219202c3a56ef2048e9d28c6465226">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef boost::function&lt; void(<a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a9e219202c3a56ef2048e9d28c6465226">file_action</a> <br class="typebreak"/>
action, const std::string &amp;url)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a0f4eed5ae7e43ebd9cdfd2a6c361dd61">callback_t</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a682bb222ddefa1595feb9091fb20c0fe">remote_watcher</a> (int sleep_ms=10000, int timeout_ms=2000)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ac350908e0816dc0efdbf59467a6a4edf">~remote_watcher</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ac350908e0816dc0efdbf59467a6a4edf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a944cd1abab2fafcb8eea0b56be819eef">insert</a> (const std::string &amp;url, const <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a0f4eed5ae7e43ebd9cdfd2a6c361dd61">callback_t</a> &amp;callback)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds <em>path</em> to the list of monitored paths.  <a href="#a944cd1abab2fafcb8eea0b56be819eef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#aaeb5847b8459cfe406c7a427a72b4996">clear</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">clear the whole list  <a href="#aaeb5847b8459cfe406c7a427a72b4996"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ae34d07a548195b0373cc3c55d1b75068">erase</a> (const std::string &amp;url)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes <em>path</em> from the list of monitored paths.  <a href="#ae34d07a548195b0373cc3c55d1b75068"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a0a01cf242b67af98cbbb87266fc706cc">start</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the asynchronous monitor thread.  <a href="#a0a01cf242b67af98cbbb87266fc706cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ae2b67900d801f42aaa19d7ee47633a0b">stop</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the asynchronous monitor thread.  <a href="#ae2b67900d801f42aaa19d7ee47633a0b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a3e18c635f35c24ab38a3fb7298dfd815">connect</a> (boost::asio::ip::tcp::iostream &amp;s, std::string url, int timeout_ms, bool skip_header=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects to the given url. Will put the connection in the passed stream.  <a href="#a3e18c635f35c24ab38a3fb7298dfd815"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a14481591c460e15dc7dcadec5c556911">get_time</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a67f271fd10da40b438aed9b5fbb7d7a8">last_write_time</a> (const std::string &amp;url)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">we cannot assume that if a file exists, it will exist in the following moment that we check its file size  <a href="#a67f271fd10da40b438aed9b5fbb7d7a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a8b517ce4ecd0e9a44a07a53dfd291cbe">run</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry point for the asynchronous monitor thread.  <a href="#a8b517ce4ecd0e9a44a07a53dfd291cbe"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a0f4eed5ae7e43ebd9cdfd2a6c361dd61">callback_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ad208954064b159870a5c420d85e24d61">m_file_callback</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The map that associates watched files to the callbacks that should be launched.  <a href="#ad208954064b159870a5c420d85e24d61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak"/>
std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a877e2d0000fe92c48d72d4df15b6da68">m_file_modified</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The map that associates watched files with their last known modification times.  <a href="#a877e2d0000fe92c48d72d4df15b6da68"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a93e672bd824e4503e7eb11aaaa91d972">m_file_mutex</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to make modifications to <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ad208954064b159870a5c420d85e24d61" title="The map that associates watched files to the callbacks that should be launched.">remote_watcher::m_file_callback</a> and <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a877e2d0000fe92c48d72d4df15b6da68" title="The map that associates watched files with their last known modification times.">remote_watcher::m_file_modified</a> thread-safe.  <a href="#a93e672bd824e4503e7eb11aaaa91d972"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; boost::thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a3c04e7f08c192d1a492cac9f92db7902">m_pthread</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared pointer to the thread that is constantly checking the files for modifications.  <a href="#a3c04e7f08c192d1a492cac9f92db7902"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#af472da1e1993664b6ea85f3d2529337d">m_run</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the watcher thread is running.  <a href="#af472da1e1993664b6ea85f3d2529337d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a15da3349f00ca1be1fe7c5da0773f2bf">m_run_mutex</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex that must be locked when we are changing <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#af472da1e1993664b6ea85f3d2529337d" title="Whether the watcher thread is running.">remote_watcher::m_run</a>.  <a href="#a15da3349f00ca1be1fe7c5da0773f2bf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::condition&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a7cb1cc8f8bf7fec1fe514d6f24336cd7">m_run_cond</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition to notify threads blocking on the <a class="el" href="classmoost_1_1io_1_1remote__watcher.html" title="Asynchronously watches a remote file, then notifies a callback function when a change occurs...">remote_watcher</a> watcher thread.  <a href="#a7cb1cc8f8bf7fec1fe514d6f24336cd7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ab412cd424067c98c903b513ccc83f089">m_sleep_ms</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a6425c6aadd85234c9e1060bf2be35501">m_timeout_ms</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Asynchronously watches a remote file, then notifies a callback function when a change occurs. </p>
<p>After a <a class="el" href="classmoost_1_1io_1_1remote__watcher.html" title="Asynchronously watches a remote file, then notifies a callback function when a change occurs...">remote_watcher</a> is instantiated, you must call <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a0a01cf242b67af98cbbb87266fc706cc" title="Starts the asynchronous monitor thread.">remote_watcher::start()</a> to start up the asynchronous thread. </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00061">61</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a0f4eed5ae7e43ebd9cdfd2a6c361dd61"></a><!-- doxytag: member="moost::io::remote_watcher::callback_t" ref="a0f4eed5ae7e43ebd9cdfd2a6c361dd61" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::function&lt;void(<a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a9e219202c3a56ef2048e9d28c6465226">file_action</a> action, const std::string &amp; url)&gt; <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a0f4eed5ae7e43ebd9cdfd2a6c361dd61">moost::io::remote_watcher::callback_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00073">73</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a9e219202c3a56ef2048e9d28c6465226"></a><!-- doxytag: member="moost::io::remote_watcher::file_action" ref="a9e219202c3a56ef2048e9d28c6465226" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a9e219202c3a56ef2048e9d28c6465226">moost::io::remote_watcher::file_action</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The actions that <a class="el" href="classmoost_1_1io_1_1remote__watcher.html" title="Asynchronously watches a remote file, then notifies a callback function when a change occurs...">remote_watcher</a> can monitor. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a9e219202c3a56ef2048e9d28c6465226ac5d7b2b0dc1220db714640c5f3d670b0"></a><!-- doxytag: member="CREATED" ref="a9e219202c3a56ef2048e9d28c6465226ac5d7b2b0dc1220db714640c5f3d670b0" args="" -->CREATED</em>&nbsp;</td><td>
<p>File creation. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9e219202c3a56ef2048e9d28c6465226ae15dd4e4129ae20df1b9555c77a80987"></a><!-- doxytag: member="CHANGED" ref="a9e219202c3a56ef2048e9d28c6465226ae15dd4e4129ae20df1b9555c77a80987" args="" -->CHANGED</em>&nbsp;</td><td>
<p>File modification. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9e219202c3a56ef2048e9d28c6465226aaf3c1e5dc0cd1702d5f7eaaa2af5d98b"></a><!-- doxytag: member="DELETED" ref="a9e219202c3a56ef2048e9d28c6465226aaf3c1e5dc0cd1702d5f7eaaa2af5d98b" args="" -->DELETED</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00066">66</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a682bb222ddefa1595feb9091fb20c0fe"></a><!-- doxytag: member="moost::io::remote_watcher::remote_watcher" ref="a682bb222ddefa1595feb9091fb20c0fe" args="(int sleep_ms=10000, int timeout_ms=2000)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a682bb222ddefa1595feb9091fb20c0fe">moost::io::remote_watcher::remote_watcher</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sleep_ms</em> = <code>10000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em> = <code>2000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs an empty <a class="el" href="classmoost_1_1io_1_1remote__watcher.html" title="Asynchronously watches a remote file, then notifies a callback function when a change occurs...">remote_watcher</a> that is not running and not watching anything </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sleep_ms,:</td><td>the number of milliseconds to sleep in between checking files </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00186">186</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac350908e0816dc0efdbf59467a6a4edf"></a><!-- doxytag: member="moost::io::remote_watcher::~remote_watcher" ref="ac350908e0816dc0efdbf59467a6a4edf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ac350908e0816dc0efdbf59467a6a4edf">moost::io::remote_watcher::~remote_watcher</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<p>This method takes care of properly setting <code><a class="el" href="classmoost_1_1io_1_1remote__watcher.html#af472da1e1993664b6ea85f3d2529337d" title="Whether the watcher thread is running.">remote_watcher::m_run</a></code> to <code>false</code> using the <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a15da3349f00ca1be1fe7c5da0773f2bf" title="Mutex that must be locked when we are changing remote_watcher::m_run.">remote_watcher::m_run_mutex</a> mutex, and it also waits until the watcher thread exits. </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00197">197</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_ac350908e0816dc0efdbf59467a6a4edf_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_ac350908e0816dc0efdbf59467a6a4edf_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_ac350908e0816dc0efdbf59467a6a4edf_cgraph" id="classmoost_1_1io_1_1remote__watcher_ac350908e0816dc0efdbf59467a6a4edf_cgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1remote__watcher.html#ae2b67900d801f42aaa19d7ee47633a0b" title="Stops the asynchronous monitor thread." alt="" coords="372,5,601,33"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aaeb5847b8459cfe406c7a427a72b4996"></a><!-- doxytag: member="moost::io::remote_watcher::clear" ref="aaeb5847b8459cfe406c7a427a72b4996" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#aaeb5847b8459cfe406c7a427a72b4996">moost::io::remote_watcher::clear</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>clear the whole list </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00221">221</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_aaeb5847b8459cfe406c7a427a72b4996_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_aaeb5847b8459cfe406c7a427a72b4996_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_aaeb5847b8459cfe406c7a427a72b4996_cgraph" id="classmoost_1_1io_1_1remote__watcher_aaeb5847b8459cfe406c7a427a72b4996_cgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1remote__watcher.html#ae2b67900d801f42aaa19d7ee47633a0b" title="Stops the asynchronous monitor thread." alt="" coords="289,5,519,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e18c635f35c24ab38a3fb7298dfd815"></a><!-- doxytag: member="moost::io::remote_watcher::connect" ref="a3e18c635f35c24ab38a3fb7298dfd815" args="(boost::asio::ip::tcp::iostream &amp;s, std::string url, int timeout_ms, bool skip_header=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a3e18c635f35c24ab38a3fb7298dfd815">moost::io::remote_watcher::connect</a> </td>
          <td>(</td>
          <td class="paramtype">boost::asio::ip::tcp::iostream &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skip_header</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connects to the given url. Will put the connection in the passed stream. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if the connection did not succeed </dd></dl>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00278">278</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_a3e18c635f35c24ab38a3fb7298dfd815_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_a3e18c635f35c24ab38a3fb7298dfd815_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_a3e18c635f35c24ab38a3fb7298dfd815_cgraph" id="classmoost_1_1io_1_1remote__watcher_a3e18c635f35c24ab38a3fb7298dfd815_cgraph">
<area shape="rect" id="node3" href="namespacestd.html#a7fdba014e074c14ff7eb1043d369add7" title="std::flush" alt="" coords="307,5,387,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_a3e18c635f35c24ab38a3fb7298dfd815_icgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_a3e18c635f35c24ab38a3fb7298dfd815_icgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_a3e18c635f35c24ab38a3fb7298dfd815_icgraph" id="classmoost_1_1io_1_1remote__watcher_a3e18c635f35c24ab38a3fb7298dfd815_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1remote__watcher.html#a67f271fd10da40b438aed9b5fbb7d7a8" title="we cannot assume that if a file exists, it will exist in the following moment that we check its file ..." alt="" coords="307,30,605,58"/><area shape="rect" id="node5" href="classmoost_1_1io_1_1remote__watcher.html#a944cd1abab2fafcb8eea0b56be819eef" title="Adds path to the list of monitored paths." alt="" coords="655,5,892,33"/><area shape="rect" id="node7" href="classmoost_1_1io_1_1remote__watcher.html#a8b517ce4ecd0e9a44a07a53dfd291cbe" title="Entry point for the asynchronous monitor thread." alt="" coords="663,55,884,83"/><area shape="rect" id="node9" href="classmoost_1_1io_1_1remote__watcher.html#a0a01cf242b67af98cbbb87266fc706cc" title="Starts the asynchronous monitor thread." alt="" coords="941,55,1173,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae34d07a548195b0373cc3c55d1b75068"></a><!-- doxytag: member="moost::io::remote_watcher::erase" ref="ae34d07a548195b0373cc3c55d1b75068" args="(const std::string &amp;url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ae34d07a548195b0373cc3c55d1b75068">moost::io::remote_watcher::erase</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes <em>path</em> from the list of monitored paths. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the path to stop monitoring </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00233">233</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a14481591c460e15dc7dcadec5c556911"></a><!-- doxytag: member="moost::io::remote_watcher::get_time" ref="a14481591c460e15dc7dcadec5c556911" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::time_t <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a14481591c460e15dc7dcadec5c556911">moost::io::remote_watcher::get_time</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00116">116</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a944cd1abab2fafcb8eea0b56be819eef"></a><!-- doxytag: member="moost::io::remote_watcher::insert" ref="a944cd1abab2fafcb8eea0b56be819eef" args="(const std::string &amp;url, const callback_t &amp;callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a944cd1abab2fafcb8eea0b56be819eef">moost::io::remote_watcher::insert</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a0f4eed5ae7e43ebd9cdfd2a6c361dd61">callback_t</a> &amp;&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds <em>path</em> to the list of monitored paths. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>the url to monitor </td></tr>
    <tr><td class="paramname">callback</td><td>the callback to notify if the file at url changes </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00206">206</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_a944cd1abab2fafcb8eea0b56be819eef_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_a944cd1abab2fafcb8eea0b56be819eef_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_a944cd1abab2fafcb8eea0b56be819eef_cgraph" id="classmoost_1_1io_1_1remote__watcher_a944cd1abab2fafcb8eea0b56be819eef_cgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1remote__watcher.html#a67f271fd10da40b438aed9b5fbb7d7a8" title="we cannot assume that if a file exists, it will exist in the following moment that we check its file ..." alt="" coords="293,5,592,33"/><area shape="rect" id="node5" href="classmoost_1_1io_1_1remote__watcher.html#a3e18c635f35c24ab38a3fb7298dfd815" title="Connects to the given url. Will put the connection in the passed stream." alt="" coords="640,5,893,33"/><area shape="rect" id="node7" href="namespacestd.html#a7fdba014e074c14ff7eb1043d369add7" title="std::flush" alt="" coords="941,5,1021,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a67f271fd10da40b438aed9b5fbb7d7a8"></a><!-- doxytag: member="moost::io::remote_watcher::last_write_time" ref="a67f271fd10da40b438aed9b5fbb7d7a8" args="(const std::string &amp;url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a67f271fd10da40b438aed9b5fbb7d7a8">moost::io::remote_watcher::last_write_time</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>we cannot assume that if a file exists, it will exist in the following moment that we check its file size </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00124">124</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_a67f271fd10da40b438aed9b5fbb7d7a8_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_a67f271fd10da40b438aed9b5fbb7d7a8_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_a67f271fd10da40b438aed9b5fbb7d7a8_cgraph" id="classmoost_1_1io_1_1remote__watcher_a67f271fd10da40b438aed9b5fbb7d7a8_cgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1remote__watcher.html#a3e18c635f35c24ab38a3fb7298dfd815" title="Connects to the given url. Will put the connection in the passed stream." alt="" coords="352,5,605,33"/><area shape="rect" id="node5" href="namespacestd.html#a7fdba014e074c14ff7eb1043d369add7" title="std::flush" alt="" coords="653,5,733,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_a67f271fd10da40b438aed9b5fbb7d7a8_icgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_a67f271fd10da40b438aed9b5fbb7d7a8_icgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_a67f271fd10da40b438aed9b5fbb7d7a8_icgraph" id="classmoost_1_1io_1_1remote__watcher_a67f271fd10da40b438aed9b5fbb7d7a8_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1remote__watcher.html#a944cd1abab2fafcb8eea0b56be819eef" title="Adds path to the list of monitored paths." alt="" coords="353,5,591,33"/><area shape="rect" id="node5" href="classmoost_1_1io_1_1remote__watcher.html#a8b517ce4ecd0e9a44a07a53dfd291cbe" title="Entry point for the asynchronous monitor thread." alt="" coords="361,55,583,83"/><area shape="rect" id="node7" href="classmoost_1_1io_1_1remote__watcher.html#a0a01cf242b67af98cbbb87266fc706cc" title="Starts the asynchronous monitor thread." alt="" coords="640,55,872,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8b517ce4ecd0e9a44a07a53dfd291cbe"></a><!-- doxytag: member="moost::io::remote_watcher::run" ref="a8b517ce4ecd0e9a44a07a53dfd291cbe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a8b517ce4ecd0e9a44a07a53dfd291cbe">moost::io::remote_watcher::run</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Entry point for the asynchronous monitor thread. </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00353">353</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_a8b517ce4ecd0e9a44a07a53dfd291cbe_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_a8b517ce4ecd0e9a44a07a53dfd291cbe_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_a8b517ce4ecd0e9a44a07a53dfd291cbe_cgraph" id="classmoost_1_1io_1_1remote__watcher_a8b517ce4ecd0e9a44a07a53dfd291cbe_cgraph">
<area shape="rect" id="node3" href="structmoost_1_1thread_1_1xtime__util.html#a6c3e968c06bc9ad8138e8b7ba877922f" title="Adds the specified number of milliseconds to a boost::xtime." alt="" coords="305,5,548,33"/><area shape="rect" id="node5" href="structmoost_1_1thread_1_1xtime__util.html#ac02f5f3c0598f7269ab3acb7f1358eef" title="Returns now in boost::xtime." alt="" coords="319,55,535,83"/><area shape="rect" id="node7" href="classmoost_1_1io_1_1remote__watcher.html#a67f271fd10da40b438aed9b5fbb7d7a8" title="we cannot assume that if a file exists, it will exist in the following moment that we check its file ..." alt="" coords="277,106,576,134"/><area shape="rect" id="node9" href="classmoost_1_1io_1_1remote__watcher.html#a3e18c635f35c24ab38a3fb7298dfd815" title="Connects to the given url. Will put the connection in the passed stream." alt="" coords="624,106,877,134"/><area shape="rect" id="node11" href="namespacestd.html#a7fdba014e074c14ff7eb1043d369add7" title="std::flush" alt="" coords="925,106,1005,134"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_a8b517ce4ecd0e9a44a07a53dfd291cbe_icgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_a8b517ce4ecd0e9a44a07a53dfd291cbe_icgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_a8b517ce4ecd0e9a44a07a53dfd291cbe_icgraph" id="classmoost_1_1io_1_1remote__watcher_a8b517ce4ecd0e9a44a07a53dfd291cbe_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1remote__watcher.html#a0a01cf242b67af98cbbb87266fc706cc" title="Starts the asynchronous monitor thread." alt="" coords="277,5,509,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a01cf242b67af98cbbb87266fc706cc"></a><!-- doxytag: member="moost::io::remote_watcher::start" ref="a0a01cf242b67af98cbbb87266fc706cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a0a01cf242b67af98cbbb87266fc706cc">moost::io::remote_watcher::start</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Starts the asynchronous monitor thread. </p>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>if the thread is already started  start will <b>NOT</b> call the callback function straight away!!! </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00245">245</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_a0a01cf242b67af98cbbb87266fc706cc_cgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_a0a01cf242b67af98cbbb87266fc706cc_cgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_a0a01cf242b67af98cbbb87266fc706cc_cgraph" id="classmoost_1_1io_1_1remote__watcher_a0a01cf242b67af98cbbb87266fc706cc_cgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1remote__watcher.html#a8b517ce4ecd0e9a44a07a53dfd291cbe" title="Entry point for the asynchronous monitor thread." alt="" coords="287,55,508,83"/><area shape="rect" id="node5" href="structmoost_1_1thread_1_1xtime__util.html#a6c3e968c06bc9ad8138e8b7ba877922f" title="Adds the specified number of milliseconds to a boost::xtime." alt="" coords="585,5,828,33"/><area shape="rect" id="node7" href="structmoost_1_1thread_1_1xtime__util.html#ac02f5f3c0598f7269ab3acb7f1358eef" title="Returns now in boost::xtime." alt="" coords="599,55,815,83"/><area shape="rect" id="node9" href="classmoost_1_1io_1_1remote__watcher.html#a67f271fd10da40b438aed9b5fbb7d7a8" title="we cannot assume that if a file exists, it will exist in the following moment that we check its file ..." alt="" coords="557,106,856,134"/><area shape="rect" id="node11" href="classmoost_1_1io_1_1remote__watcher.html#a3e18c635f35c24ab38a3fb7298dfd815" title="Connects to the given url. Will put the connection in the passed stream." alt="" coords="904,106,1157,134"/><area shape="rect" id="node13" href="namespacestd.html#a7fdba014e074c14ff7eb1043d369add7" title="std::flush" alt="" coords="1205,106,1285,134"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae2b67900d801f42aaa19d7ee47633a0b"></a><!-- doxytag: member="moost::io::remote_watcher::stop" ref="ae2b67900d801f42aaa19d7ee47633a0b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ae2b67900d801f42aaa19d7ee47633a0b">moost::io::remote_watcher::stop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stops the asynchronous monitor thread. </p>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>if the thread is already stopped </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00258">258</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmoost_1_1io_1_1remote__watcher_ae2b67900d801f42aaa19d7ee47633a0b_icgraph.png" border="0" usemap="#classmoost_1_1io_1_1remote__watcher_ae2b67900d801f42aaa19d7ee47633a0b_icgraph" alt=""/></div>
<map name="classmoost_1_1io_1_1remote__watcher_ae2b67900d801f42aaa19d7ee47633a0b_icgraph" id="classmoost_1_1io_1_1remote__watcher_ae2b67900d801f42aaa19d7ee47633a0b_icgraph">
<area shape="rect" id="node3" href="classmoost_1_1io_1_1remote__watcher.html#ac350908e0816dc0efdbf59467a6a4edf" title="Destructor." alt="" coords="285,5,603,33"/><area shape="rect" id="node5" href="classmoost_1_1io_1_1remote__watcher.html#aaeb5847b8459cfe406c7a427a72b4996" title="clear the whole list" alt="" coords="328,55,560,83"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ad208954064b159870a5c420d85e24d61"></a><!-- doxytag: member="moost::io::remote_watcher::m_file_callback" ref="ad208954064b159870a5c420d85e24d61" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a0f4eed5ae7e43ebd9cdfd2a6c361dd61">callback_t</a> &gt; <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ad208954064b159870a5c420d85e24d61">moost::io::remote_watcher::m_file_callback</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The map that associates watched files to the callbacks that should be launched. </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00078">78</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a877e2d0000fe92c48d72d4df15b6da68"></a><!-- doxytag: member="moost::io::remote_watcher::m_file_modified" ref="a877e2d0000fe92c48d72d4df15b6da68" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::string &gt; <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a877e2d0000fe92c48d72d4df15b6da68">moost::io::remote_watcher::m_file_modified</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The map that associates watched files with their last known modification times. </p>
<p>We actually track the last <em>two</em> modification times. Ideally, we want to send a notification only when the file was modified <em>and</em> the modifying process already closed the file, therefore we fire a <code>CHANGED</code> event only if the previous previous modification time is <em>different</em> from the previous modification time <em>but</em> the previous modification time equals the modification time we read from the file. Otherwise we just "shift" the pair (drop the previous previous modification, move the previous to the first position that is empty and push the file's last modification obtained from the filesystem to the second element of the pair). </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00090">90</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a93e672bd824e4503e7eb11aaaa91d972"></a><!-- doxytag: member="moost::io::remote_watcher::m_file_mutex" ref="a93e672bd824e4503e7eb11aaaa91d972" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a93e672bd824e4503e7eb11aaaa91d972">moost::io::remote_watcher::m_file_mutex</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mutex to make modifications to <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ad208954064b159870a5c420d85e24d61" title="The map that associates watched files to the callbacks that should be launched.">remote_watcher::m_file_callback</a> and <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a877e2d0000fe92c48d72d4df15b6da68" title="The map that associates watched files with their last known modification times.">remote_watcher::m_file_modified</a> thread-safe. </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00094">94</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3c04e7f08c192d1a492cac9f92db7902"></a><!-- doxytag: member="moost::io::remote_watcher::m_pthread" ref="a3c04e7f08c192d1a492cac9f92db7902" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; boost::thread&gt; <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a3c04e7f08c192d1a492cac9f92db7902">moost::io::remote_watcher::m_pthread</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shared pointer to the thread that is constantly checking the files for modifications. </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00097">97</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af472da1e1993664b6ea85f3d2529337d"></a><!-- doxytag: member="moost::io::remote_watcher::m_run" ref="af472da1e1993664b6ea85f3d2529337d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#af472da1e1993664b6ea85f3d2529337d">moost::io::remote_watcher::m_run</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Whether the watcher thread is running. </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00103">103</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7cb1cc8f8bf7fec1fe514d6f24336cd7"></a><!-- doxytag: member="moost::io::remote_watcher::m_run_cond" ref="a7cb1cc8f8bf7fec1fe514d6f24336cd7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::condition <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a7cb1cc8f8bf7fec1fe514d6f24336cd7">moost::io::remote_watcher::m_run_cond</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Condition to notify threads blocking on the <a class="el" href="classmoost_1_1io_1_1remote__watcher.html" title="Asynchronously watches a remote file, then notifies a callback function when a change occurs...">remote_watcher</a> watcher thread. </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00111">111</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a15da3349f00ca1be1fe7c5da0773f2bf"></a><!-- doxytag: member="moost::io::remote_watcher::m_run_mutex" ref="a15da3349f00ca1be1fe7c5da0773f2bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a15da3349f00ca1be1fe7c5da0773f2bf">moost::io::remote_watcher::m_run_mutex</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mutex that must be locked when we are changing <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#af472da1e1993664b6ea85f3d2529337d" title="Whether the watcher thread is running.">remote_watcher::m_run</a>. </p>
<p>This is because <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#af472da1e1993664b6ea85f3d2529337d" title="Whether the watcher thread is running.">remote_watcher::m_run</a> can be modified from the watcher thread itself and also from the thread that originally constructed this <a class="el" href="classmoost_1_1io_1_1remote__watcher.html" title="Asynchronously watches a remote file, then notifies a callback function when a change occurs...">remote_watcher</a>. </p>

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00109">109</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab412cd424067c98c903b513ccc83f089"></a><!-- doxytag: member="moost::io::remote_watcher::m_sleep_ms" ref="ab412cd424067c98c903b513ccc83f089" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#ab412cd424067c98c903b513ccc83f089">moost::io::remote_watcher::m_sleep_ms</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00113">113</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6425c6aadd85234c9e1060bf2be35501"></a><!-- doxytag: member="moost::io::remote_watcher::m_timeout_ms" ref="a6425c6aadd85234c9e1060bf2be35501" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classmoost_1_1io_1_1remote__watcher.html#a6425c6aadd85234c9e1060bf2be35501">moost::io::remote_watcher::m_timeout_ms</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="remote__watcher_8hpp_source.html#l00114">114</a> of file <a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/mhx/git/github/libmoost/include/moost/io/<a class="el" href="remote__watcher_8hpp_source.html">remote_watcher.hpp</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacemoost.html">moost</a>      </li>
      <li class="navelem"><a class="el" href="namespacemoost_1_1io.html">io</a>      </li>
      <li class="navelem"><a class="el" href="classmoost_1_1io_1_1remote__watcher.html">remote_watcher</a>      </li>

    <li class="footer">Generated on Wed Feb 20 2013 05:56:10 for libmoost by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
